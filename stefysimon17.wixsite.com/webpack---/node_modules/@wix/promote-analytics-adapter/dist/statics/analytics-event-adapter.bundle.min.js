! function(e, n) {
    "object" == typeof exports && "object" == typeof module ? module.exports = n() : "function" == typeof define && define.amd ? define("promote-analytics-adapter", [], n) : "object" == typeof exports ? exports["promote-analytics-adapter"] = n() : e["promote-analytics-adapter"] = n()
}("undefined" != typeof self ? self : this, function() {
    return function(e) {
        var n = {};

        function t(r) {
            if (n[r]) return n[r].exports;
            var o = n[r] = {
                i: r,
                l: !1,
                exports: {}
            };
            return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports
        }
        return t.m = e, t.c = n, t.d = function(e, n, r) {
            t.o(e, n) || Object.defineProperty(e, n, {
                enumerable: !0,
                get: r
            })
        }, t.r = function(e) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }), Object.defineProperty(e, "__esModule", {
                value: !0
            })
        }, t.t = function(e, n) {
            if (1 & n && (e = t(e)), 8 & n) return e;
            if (4 & n && "object" == typeof e && e && e.__esModule) return e;
            var r = Object.create(null);
            if (t.r(r), Object.defineProperty(r, "default", {
                    enumerable: !0,
                    value: e
                }), 2 & n && "string" != typeof e)
                for (var o in e) t.d(r, o, function(n) {
                    return e[n]
                }.bind(null, o));
            return r
        }, t.n = function(e) {
            var n = e && e.__esModule ? function() {
                return e.default
            } : function() {
                return e
            };
            return t.d(n, "a", n), n
        }, t.o = function(e, n) {
            return Object.prototype.hasOwnProperty.call(e, n)
        }, t.p = "https://static.parastorage.com/services/promote-analytics-adapter/2.784.0/", t.p = "undefined" != typeof window && window.__STATICS_BASE_URL__ || t.p, t(t.s = 29)
    }({
        1: function(e, n, t) {
            "use strict";
            var r = {
                    STORES: "Stores",
                    BOOKINGS: "Bookings",
                    WIX_EVENTS: "Wix Events"
                },
                o = function(e, n) {
                    var t = Object.keys(e);
                    return 0 === t.length ? e : t.reduce(function(t, r) {
                        var o = n[r];
                        return o && (e[r] || 0 === e[r]) && (t[o] = e[r]), t
                    }, {})
                };

            function i(e, n) {
                var t = e.origin,
                    o = t === r.STORES,
                    i = t === r.BOOKINGS,
                    c = t === r.WIX_EVENTS;
                return o ? n.useStoresPurchaseFBServerEvent && !e.id : i ? n.useBookingsPurchaseFBServerEvent : !!c && n.useEventsPurchaseFBServerEvent
            }
            var c = Object.assign || function(e) {
                for (var n = 1; n < arguments.length; n++) {
                    var t = arguments[n];
                    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r])
                }
                return e
            };

            function a(e, n) {
                var t = {};
                for (var r in e) n.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                return t
            }
            var u = {
                    id: "id",
                    price: "value",
                    value: "value",
                    revenue: "value",
                    name: "content_name",
                    category: "content_category",
                    currency: "currency",
                    content_ids: "content_ids",
                    contents: "contents",
                    type: "content_type",
                    num_items: "num_items",
                    quantity: "quantity",
                    label: "content_name"
                },
                s = function(e) {
                    var n = e.type,
                        t = void 0 === n ? "product" : n,
                        r = a(e, ["type"]),
                        i = Object.assign({}, r, {
                            type: t
                        });
                    return i.contents && (i.contents = i.contents.map(function(e) {
                        return c({}, e, {
                            quantity: e.quantity || 1,
                            item_price: e.item_price || e.price || 0
                        })
                    }), i.price || i.value || i.revenue || (i.price = function(e) {
                        return (Number.parseFloat(e.tax) || 0) + (Number.parseFloat(e.shipping) || 0) + e.contents.reduce(function(e, n) {
                            return e + Number.parseFloat(n.item_price) * n.quantity
                        }, 0)
                    }(i).toString()), i.currency || (i.currency = function(e) {
                        return e.contents && e.contents[0].currency
                    }(i))), o(i, u)
                },
                p = function(e) {
                    if (e.contents && !e.num_items) {
                        var n = c({}, e);
                        return n.num_items = n.contents.reduce(function(e, n) {
                            return e + (n.quantity || 1)
                        }, 0), n
                    }
                    return e
                },
                d = {
                    ViewContent: function(e) {
                        var n = e.id,
                            t = a(e, ["id"]);
                        return [
                            ["track", "ViewContent", c({}, s(t), {
                                content_ids: [n],
                                content_type: "product"
                            }), {
                                eventID: t._internalEventId
                            }]
                        ]
                    },
                    AddToCart: function(e) {
                        var n = e.id,
                            t = a(e, ["id"]);
                        return [
                            ["track", "AddToCart", c({}, s(t), {
                                content_ids: [n],
                                content_type: "product"
                            }), {
                                eventID: t._internalEventId
                            }]
                        ]
                    },
                    InitiateCheckout: function(e) {
                        return [
                            ["track", "InitiateCheckout", c({}, s(p(e)), e.contents && {
                                content_ids: e.contents.map(function(e) {
                                    return e.id
                                }),
                                content_type: "product"
                            }), {
                                eventID: e._internalEventId
                            }]
                        ]
                    },
                    AddPaymentInfo: function(e) {
                        return [
                            ["track", "AddPaymentInfo", c({}, s(p(e)), e.contents && {
                                content_ids: e.contents.map(function(e) {
                                    return e.id
                                }),
                                content_type: "product"
                            }), {
                                eventID: e._internalEventId
                            }]
                        ]
                    },
                    Purchase: function(e, n) {
                        if (n.isFBServerEventsEnabled) {
                            var t = c({}, s(p(e)), e.contents && {
                                    content_ids: e.contents.map(function(e) {
                                        return e.id
                                    }),
                                    content_type: "product"
                                }),
                                o = function(e) {
                                    return e.origin === r.STORES ? e.orderId : e._internalEventId
                                }(e),
                                a = ["track", "Purchase", c({}, t), {
                                    eventID: o
                                }],
                                u = ["trackCustom", "WixOrderPlaced", c({}, t), {
                                    eventID: o
                                }];
                            return [].concat(i(e, n) ? [] : [a], [u])
                        }
                        return [
                            ["track", "Purchase", c({}, s(p(e)), e.contents && {
                                content_ids: e.contents.map(function(e) {
                                    return e.id
                                }),
                                content_type: "product"
                            }), {
                                eventID: e._internalEventId
                            }]
                        ]
                    },
                    Lead: function(e) {
                        return [
                            ["track", "Lead", o(e, u), {
                                eventID: e._internalEventId
                            }]
                        ]
                    },
                    Schedule: function(e) {
                        return [
                            ["track", "Schedule", {}, {
                                eventID: e._internalEventId
                            }]
                        ]
                    },
                    CompleteRegistration: function(e) {
                        return [
                            ["track", "CompleteRegistration", {}, {
                                eventID: e._internalEventId
                            }]
                        ]
                    },
                    CustomEvent: function(e) {
                        var n = e.event,
                            t = e.eventAction,
                            r = void 0 === t ? "customEvent" : t,
                            o = a(e, ["event", "eventAction"]);
                        return [
                            ["trackCustom", n || r, o, {
                                eventID: e._internalEventId
                            }]
                        ]
                    }
                },
                v = Object.assign || function(e) {
                    for (var n = 1; n < arguments.length; n++) {
                        var t = arguments[n];
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r])
                    }
                    return e
                };
            var f = {
                price: "price",
                sku: "id",
                id: "id",
                currency: "currency",
                name: "name",
                category: "category",
                brand: "brand",
                variant: "variant",
                list: "list",
                quantity: "quantity",
                step: "step",
                option: "option",
                position: "position",
                coupon: "coupon",
                affiliation: "affiliation",
                revenue: "revenue",
                tax: "tax",
                shipping: "shipping"
            };
            ! function() {
                for (var e = 1; e <= 200; e++) f["dimension" + e] = "dimension" + e, f["metric" + e] = "metric" + e
            }();
            var l = function(e) {
                    return e ? "Enhanced Ecommerce - " + e : "Enhanced Ecommerce"
                },
                m = {
                    PageView: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            n = e.pagePath,
                            t = e.pageTitle;
                        return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).reportToManagedChannels ? [
                            ["send", "pageview", v({
                                page: n
                            }, t ? {
                                title: t
                            } : {})]
                        ] : []
                    },
                    AddProductImpression: function(e) {
                        var n = (e.contents || []).map(function(e) {
                            return ["ec:addImpression", o(e, f)]
                        });
                        return [
                            ["require", "ec"]
                        ].concat(n).concat([
                            ["send", "event", l(e.origin), "Product Impressions", {
                                nonInteraction: !0
                            }]
                        ])
                    },
                    ClickProduct: function(e) {
                        var n = e.name ? e.name : "(not set)",
                            t = e.list ? e.list : "(not set)";
                        return [
                            ["require", "ec"]
                        ].concat([
                            ["ec:addProduct", o(e, f)]
                        ]).concat([
                            ["ec:setAction", "click", {
                                list: t
                            }]
                        ]).concat([
                            ["send", "event", l(e.origin), "Product Click", n]
                        ])
                    },
                    ViewContent: function(e) {
                        var n = e.name ? e.name : "(not set)";
                        return [
                            ["require", "ec"]
                        ].concat([
                            ["ec:addImpression", o(e, f)]
                        ]).concat([
                            ["ec:setAction", "detail"]
                        ]).concat([
                            ["send", "event", l(e.origin), "View Content", n, {
                                nonInteraction: !0
                            }]
                        ])
                    },
                    AddToCart: function(e) {
                        var n = e.name ? e.name : "(not set)";
                        return [
                            ["require", "ec"]
                        ].concat([
                            ["ec:addProduct", o(e, f)]
                        ]).concat([
                            ["ec:setAction", "add"]
                        ]).concat([
                            ["send", "event", l(e.origin), "Add to Cart", n]
                        ])
                    },
                    RemoveFromCart: function(e) {
                        var n = e.name ? e.name : "(not set)";
                        return [
                            ["require", "ec"]
                        ].concat([
                            ["ec:addProduct", o(e, f)]
                        ]).concat([
                            ["ec:setAction", "remove"]
                        ]).concat([
                            ["send", "event", l(e.origin), "Remove from Cart", n]
                        ])
                    },
                    InitiateCheckout: function(e) {
                        var n = (e.contents || []).map(function(e) {
                                return ["ec:addProduct", o(e, f)]
                            }),
                            t = o({
                                option: e.option
                            }, f);
                        return [
                            ["require", "ec"]
                        ].concat(n).concat([
                            ["ec:setAction", "checkout", t]
                        ]).concat([
                            ["send", "event", l(e.origin), "Initiate Checkout"]
                        ])
                    },
                    StartPayment: function(e) {
                        var n = o({
                            step: 1,
                            option: e.option
                        }, f);
                        return [
                            ["require", "ec"]
                        ].concat([
                            ["ec:setAction", "checkout_option", n]
                        ]).concat([
                            ["send", "event", l(e.origin), "Start Payment"]
                        ])
                    },
                    AddPaymentInfo: function(e) {
                        var n = o({
                            step: 2,
                            option: e.option
                        }, f);
                        return [
                            ["require", "ec"]
                        ].concat([
                            ["ec:setAction", "checkout_option", n]
                        ]).concat([
                            ["send", "event", l(e.origin), "Add Payment Info"]
                        ])
                    },
                    CheckoutStep: function(e) {
                        var n = o({
                            step: e.step || 3,
                            option: e.option
                        }, f);
                        return [
                            ["require", "ec"]
                        ].concat([
                            ["ec:setAction", "checkout_option", n]
                        ]).concat([
                            ["send", "event", l(e.origin), "Checkout Step " + n.step]
                        ])
                    },
                    Purchase: function(e) {
                        var n = (e.contents || []).map(function(e) {
                                return ["ec:addProduct", o(e, f)]
                            }),
                            t = {};
                        return ["id", "affiliation", "revenue", "tax", "shipping", "coupon"].forEach(function(n) {
                            return e[n] && (t[n] = e[n])
                        }), [
                            ["require", "ec"]
                        ].concat(n).concat([
                            ["ec:setAction", "purchase", o(t, f)]
                        ]).concat([
                            ["send", "event", l(e.origin), "Purchase"]
                        ])
                    },
                    Lead: function(e) {
                        var n = e.category,
                            t = void 0 === n ? "Leads" : n,
                            r = e.action,
                            o = void 0 === r ? "Submitted" : r,
                            i = e.label;
                        return [
                            ["send", "event", t, o, void 0 === i ? "New Lead" : i]
                        ]
                    },
                    CustomEvent: function(e) {
                        var n = e.event,
                            t = void 0 === n ? "customEvent" : n,
                            r = e.eventAction,
                            i = function(e, n) {
                                var t = {};
                                for (var r in e) n.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                                return t
                            }(e, ["event", "eventAction"]);
                        return "pageview" === t.toLowerCase() ? [
                            ["send", "pageview", o(i, f)]
                        ] : [
                            ["send", "event", v({
                                eventAction: r || t
                            }, i)]
                        ]
                    }
                },
                y = Object.assign || function(e) {
                    for (var n = 1; n < arguments.length; n++) {
                        var t = arguments[n];
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r])
                    }
                    return e
                };

            function g(e, n) {
                var t = {};
                for (var r in e) n.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                return t
            }
            var h = {
                    type: "type",
                    price: "price",
                    sku: "sku",
                    id: "id",
                    currency: "currency",
                    name: "name",
                    category: "category",
                    brand: "brand",
                    variant: "variant",
                    list: "list",
                    quantity: "quantity",
                    step: "step",
                    option: "option",
                    position: "position",
                    coupon: "coupon",
                    affiliation: "affiliation",
                    revenue: "revenue",
                    tax: "tax",
                    shipping: "shipping",
                    buyerMail: "buyer_email",
                    buyerId: "buyer_id"
                },
                _ = {
                    PageView: function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            n = e.pagePath,
                            t = e.pageTitle;
                        return (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).reportToManagedChannels ? [
                            [
                                [{
                                    event: "Pageview",
                                    url: n,
                                    title: t
                                }]
                            ]
                        ] : []
                    },
                    AddProductImpression: function(e) {
                        var n = e.contents,
                            t = e.origin;
                        return [
                            [
                                [y({
                                    event: "productImpression"
                                }, t && {
                                    origin: t
                                }, {
                                    ecommerce: {
                                        impressions: n
                                    }
                                })]
                            ]
                        ]
                    },
                    ClickProduct: function(e) {
                        var n = e.list,
                            t = void 0 === n ? "(not set)" : n,
                            r = e.origin,
                            i = g(e, ["list", "origin"]);
                        return [
                            [
                                [y({
                                    event: "productClick"
                                }, r && {
                                    origin: r
                                }, {
                                    ecommerce: {
                                        click: {
                                            actionField: {
                                                list: t
                                            },
                                            products: [o(i, h)]
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    ViewContent: function(e) {
                        var n = e.list,
                            t = void 0 === n ? "(not set)" : n,
                            r = e.origin,
                            i = g(e, ["list", "origin"]);
                        return [
                            [
                                [y({
                                    event: "viewContent"
                                }, r && {
                                    origin: r
                                }, {
                                    ecommerce: {
                                        detail: {
                                            actionField: {
                                                list: t
                                            },
                                            products: [o(i, h)]
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    AddToCart: function(e) {
                        var n = e.origin,
                            t = g(e, ["origin"]);
                        return [
                            [
                                [y({
                                    event: "addToCart"
                                }, n && {
                                    origin: n
                                }, {
                                    ecommerce: {
                                        add: {
                                            products: [o(t, h)]
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    RemoveFromCart: function(e) {
                        var n = e.origin,
                            t = g(e, ["origin"]);
                        return [
                            [
                                [y({
                                    event: "removeFromCart"
                                }, n && {
                                    origin: n
                                }, {
                                    ecommerce: {
                                        remove: {
                                            products: [o(t, h)]
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    InitiateCheckout: function(e) {
                        var n = e.contents,
                            t = void 0 === n ? [] : n,
                            r = e.origin,
                            o = e.option,
                            i = [].concat(t),
                            c = Object.assign({}, o && {
                                option: o
                            });
                        return [
                            [
                                [y({
                                    event: "checkout"
                                }, r && {
                                    origin: r
                                }, {
                                    ecommerce: {
                                        checkout: {
                                            actionField: c,
                                            products: i
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    StartPayment: function(e) {
                        var n = e.origin;
                        return [
                            [
                                [y({
                                    event: "checkoutOption"
                                }, n && {
                                    origin: n
                                }, {
                                    ecommerce: {
                                        checkout_option: {
                                            actionField: {
                                                step: 1
                                            }
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    AddPaymentInfo: function(e) {
                        var n = e.origin,
                            t = e.option,
                            r = Object.assign({
                                step: 2
                            }, t && {
                                option: t
                            });
                        return [
                            [
                                [y({
                                    event: "checkoutOption"
                                }, n && {
                                    origin: n
                                }, {
                                    ecommerce: {
                                        checkout_option: {
                                            actionField: r
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    CheckoutStep: function(e) {
                        var n = e.step,
                            t = void 0 === n ? 3 : n,
                            r = e.origin,
                            o = e.option,
                            i = Object.assign({
                                step: t
                            }, o && {
                                option: o
                            });
                        return [
                            [
                                [y({
                                    event: "checkoutOption"
                                }, r && {
                                    origin: r
                                }, {
                                    ecommerce: {
                                        checkout_option: {
                                            actionField: i
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    Purchase: function(e) {
                        var n = e.contents,
                            t = void 0 === n ? [] : n,
                            r = e.origin,
                            i = g(e, ["contents", "origin"]),
                            c = [].concat(t),
                            a = {},
                            u = o(i, h);
                        return ["id", "affiliation", "revenue", "tax", "shipping", "coupon", "buyer_id", "buyer_email"].forEach(function(e) {
                            return u[e] && (a[e] = u[e])
                        }), [
                            [
                                [y({
                                    event: "purchase"
                                }, r && {
                                    origin: r
                                }, {
                                    ecommerce: {
                                        purchase: {
                                            actionField: a,
                                            products: c
                                        }
                                    }
                                })]
                            ]
                        ]
                    },
                    Lead: function() {
                        return [
                            [
                                [{
                                    event: "lead"
                                }]
                            ]
                        ]
                    },
                    CustomEvent: function(e) {
                        var n = e.event,
                            t = void 0 === n ? "customEvent" : n,
                            r = g(e, ["event"]);
                        return [
                            [
                                [y({
                                    event: t
                                }, r)]
                            ]
                        ]
                    }
                },
                I = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                    return typeof e
                } : function(e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                };

            function b() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                return "object" === (void 0 === e ? "undefined" : I(e)) && (e instanceof Number || e instanceof Boolean || e instanceof String ? e = e.valueOf() : null !== e && (e = JSON.stringify(e))), e
            }

            function C(e) {
                var n = e;
                return "string" == typeof n && (n = parseFloat(e)), "number" != typeof n || isNaN(n) ? e : Math.round(1e4 * n)
            }
            var A = {
                PageView: {
                    table: "page_views",
                    paramsMap: {
                        pageId: "page_id",
                        pageNumber: "page_number"
                    }
                },
                AddProductImpression: {},
                ClickProduct: {},
                ViewContent: {},
                AddToCart: {},
                RemoveFromCart: {},
                InitiateCheckout: {},
                AddPaymentInfo: {},
                Purchase: {},
                Lead: {
                    name: function(e) {
                        return function(e) {
                            return e && ("" + e).replace(/\s/g, "")
                        }(e.label)
                    },
                    table: "lead_events"
                }
            };

            function O(e, n) {
                var t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                    r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
                    o = arguments[4],
                    i = {
                        evt: e,
                        evn: n,
                        data: function(e) {
                            return Object.keys(e).reduce(function(n, t) {
                                return n[t] = b(e[t]), n
                            }, {})
                        }(t)
                    };
                return r.context && r.context.appDefId && (i.appId = r.context.appDefId), o && (i.tbl = o), [
                    [i]
                ]
            }

            function E(e, n, t, r) {
                return O("p", e, function(e, n) {
                    return Object.entries(e).reduce(function(e, t) {
                        var r = t[0],
                            o = t[1];
                        return n.includes(r) || (e[r] = o), e
                    }, {})
                }(n, ["_internalEventId", "visitorId"]), t, r)
            }
            var P = Object.keys(A).reduce(function(e, n) {
                    var t = A[n],
                        r = t.name,
                        o = t.table,
                        i = t.paramsMap;
                    return e[n] = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            t = arguments[1];
                        return "function" == typeof r && (r = r(e)), i && (e = Object.keys(i).reduce(function(n, t) {
                            return n[i[t]] = e[t], n
                        }, {})), E(r = r || n, e, t, o)
                    }, e
                }, {
                    CustomEvent: function(e, n) {
                        var t = e.event,
                            r = e.targetTable;
                        return function(e, n, t, r) {
                            return O("c", e, n, t, r)
                        }(t, function(e, n) {
                            var t = {};
                            for (var r in e) n.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                            return t
                        }(e, ["event", "targetTable"]), n, r)
                    }
                }),
                k = Object.assign || function(e) {
                    for (var n = 1; n < arguments.length; n++) {
                        var t = arguments[n];
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r])
                    }
                    return e
                },
                w = {
                    page: ["pageId", "pageNumber", "viewer", "pageType", "pageApp", "pageTypeIdentifier"],
                    product: ["id", "sku", "name", "category", "price", "currency", "brand", "variant", "list", "position"],
                    productList: ["contents"],
                    payment: ["option"],
                    purchase: ["id", "affiliation", "revenue", "tax", "shipping", "coupon", "contents", "orderId"],
                    CompleteRegistration: ["method", "origin"]
                },
                T = {
                    PageView: {
                        params: {
                            evid: 1109
                        },
                        fields: w.page
                    },
                    AddProductImpression: {
                        params: {
                            evid: 1100
                        },
                        fields: w.productList
                    },
                    ClickProduct: {
                        params: {
                            evid: 1101
                        },
                        fields: w.product
                    },
                    ViewContent: {
                        params: {
                            evid: 1102
                        },
                        fields: w.product
                    },
                    AddToCart: {
                        params: {
                            evid: 1103
                        },
                        fields: [].concat(w.product, ["quantity"])
                    },
                    RemoveFromCart: {
                        params: {
                            evid: 1104
                        },
                        fields: [].concat(w.product, ["quantity"])
                    },
                    InitiateCheckout: {
                        params: {
                            evid: 1105
                        },
                        fields: w.productList
                    },
                    AddPaymentInfo: {
                        params: {
                            evid: 1106
                        },
                        fields: w.payment
                    },
                    Purchase: {
                        params: {
                            evid: 1107
                        },
                        fields: w.purchase
                    },
                    Lead: {
                        params: {
                            evid: 1108
                        },
                        fields: []
                    },
                    Schedule: {
                        params: {
                            evid: 1110
                        },
                        fields: []
                    },
                    CompleteRegistration: {
                        params: {
                            evid: 1111
                        },
                        fields: w.CompleteRegistration
                    }
                },
                S = {
                    pageId: function(e) {
                        return {
                            name: "pid",
                            value: e
                        }
                    },
                    pageNumber: function(e) {
                        return {
                            name: "pn",
                            value: e
                        }
                    },
                    viewer: function(e) {
                        return {
                            name: "viewer",
                            value: e || "unknown"
                        }
                    },
                    pageType: function(e) {
                        return {
                            name: "pt",
                            value: e
                        }
                    },
                    pageApp: function(e) {
                        return {
                            name: "pa",
                            value: e
                        }
                    },
                    pageTypeIdentifier: function(e) {
                        return {
                            name: "pti",
                            value: e
                        }
                    },
                    price: function(e) {
                        return {
                            name: "price",
                            value: C(e)
                        }
                    },
                    revenue: function(e) {
                        return {
                            name: "revenue",
                            value: C(e)
                        }
                    },
                    tax: function(e) {
                        return {
                            name: "tax",
                            value: C(e)
                        }
                    },
                    shipping: function(e) {
                        return {
                            name: "shipping",
                            value: C(e)
                        }
                    },
                    orderId: function(e) {
                        return {
                            name: "orderGuid",
                            value: e
                        }
                    }
                };
            var x = Object.keys(T).reduce(function(e, n) {
                return e[n] = function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                        r = k({
                            src: 76
                        }, T[n].params, function(e, n) {
                            return e.reduce(function(e, t) {
                                var r = function(e, n, t) {
                                        return "function" == typeof e[n] ? e[n](t) : {
                                            name: n,
                                            value: t
                                        }
                                    }(S, t, n[t]),
                                    o = r.name,
                                    i = r.value;
                                return e[o] = b(i), e
                            }, {})
                        }(T[n].fields, e));
                    return t.context && t.context.appDefId && (r.appId = t.context.appDefId), t.preventDefaultChannels ? [] : ("Purchase" === n && (r.features = b({
                        reportedToFBonClient: !i(e, t)
                    })), [
                        [r]
                    ])
                }, e
            }, {});
            var L = {
                GA_TRACKING_ID: "GA_TRACKING_ID",
                pagePath: "page_path",
                pageTitle: "page_title"
            };
            ! function() {
                for (var e = 1; e <= 200; e++) L["dimension" + e] = "dimension" + e, L["metric" + e] = "metric" + e
            }();
            var j = {
                    PageView: function(e, n) {
                        var t = n.config,
                            r = e.GA_TRACKING_ID,
                            i = function(e, n) {
                                var t = {};
                                for (var r in e) n.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                                return t
                            }(e, ["GA_TRACKING_ID"]);
                        return [
                            ["config", r || t.trackingId, o(i, L)]
                        ]
                    }
                },
                R = Object.assign || function(e) {
                    for (var n = 1; n < arguments.length; n++) {
                        var t = arguments[n];
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r])
                    }
                    return e
                };

            function G(e, n) {
                var t = {};
                for (var r in e) n.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                return t
            }
            var D, N, V = {
                    price: "price",
                    id: "id",
                    currency: "currency",
                    name: "name",
                    category: "category",
                    brand: "brand",
                    variant: "variant",
                    list: "list_name",
                    quantity: "quantity",
                    step: "checkout_step",
                    option: "checkout_option",
                    position: "list_position",
                    coupon: "coupon",
                    affiliation: "affiliation",
                    revenue: "value",
                    tax: "tax",
                    sku: "sku",
                    shipping: "shipping"
                },
                F = function(e) {
                    return e.contents && e.contents[0].currency
                },
                q = function(e) {
                    var n = e.contents;
                    return (void 0 === n ? [] : n).map(function(e) {
                        e.currency;
                        var n = G(e, ["currency"]);
                        return o(n, V)
                    })
                },
                B = function(e) {
                    var n = e.origin;
                    return n ? "Enhanced Ecommerce - " + n : "Enhanced Ecommerce"
                },
                M = function(e) {
                    var n = e.name;
                    return n || "(not set)"
                },
                K = {
                    PageView: function(e) {
                        return [
                            ["event", "page_view", {
                                page_path: e.pagePath,
                                page_title: e.pageTitle
                            }]
                        ]
                    },
                    AddProductImpression: function(e) {
                        return [
                            ["event", "view_item_list", {
                                event_action: "Product Impressions",
                                event_category: B(e),
                                items: q(e)
                            }]
                        ]
                    },
                    ClickProduct: function(e) {
                        e.currency;
                        var n = G(e, ["currency"]);
                        return [
                            ["event", "select_content", {
                                event_action: "Product Click",
                                event_category: B(n),
                                event_label: M(n),
                                content_type: "product",
                                items: [o(n, V)]
                            }]
                        ]
                    },
                    ViewContent: function(e) {
                        e.currency;
                        var n = G(e, ["currency"]);
                        return [
                            ["event", "view_item", {
                                event_action: "View Content",
                                event_category: B(n),
                                event_label: M(n),
                                items: [o(n, V)]
                            }]
                        ]
                    },
                    AddToCart: function(e) {
                        var n = e.currency,
                            t = G(e, ["currency"]);
                        return [
                            ["event", "add_to_cart", {
                                currency: n,
                                event_action: "Add to Cart",
                                event_category: B(t),
                                event_label: M(t),
                                items: [o(t, V)]
                            }]
                        ]
                    },
                    RemoveFromCart: function(e) {
                        var n = e.currency,
                            t = G(e, ["currency"]);
                        return [
                            ["event", "remove_from_cart", {
                                currency: n,
                                event_action: "Remove from Cart",
                                event_category: B(t),
                                event_label: M(t),
                                items: [o(t, V)]
                            }]
                        ]
                    },
                    InitiateCheckout: function(e) {
                        return [
                            ["event", "begin_checkout", {
                                currency: F(e),
                                event_action: "Initiate Checkout",
                                event_category: B(e),
                                items: q(e)
                            }]
                        ]
                    },
                    StartPayment: function(e) {
                        var n = e.option,
                            t = G(e, ["option"]);
                        return [
                            ["event", "checkout_progress", R({}, o({
                                step: 3,
                                option: n
                            }, V), {
                                event_action: "Start Payment",
                                event_category: B(t),
                                currency: F(t),
                                items: q(t)
                            })]
                        ]
                    },
                    AddPaymentInfo: function(e) {
                        var n = e.option,
                            t = G(e, ["option"]);
                        return [
                            ["event", "add_payment_info", R({}, o({
                                step: 4,
                                option: n
                            }, V), {
                                event_action: "Add Payment Info",
                                event_category: B(t)
                            })]
                        ]
                    },
                    CheckoutStep: function(e) {
                        var n = e.step,
                            t = void 0 === n ? 5 : n,
                            r = e.option,
                            i = G(e, ["step", "option"]);
                        return [
                            ["event", "checkout_progress", R({}, o({
                                step: t,
                                option: r
                            }, V), {
                                event_action: "Checkout Step " + t,
                                event_category: B(i),
                                currency: F(i),
                                items: q(i)
                            })]
                        ]
                    },
                    Purchase: function(e) {
                        var n = e.revenue,
                            t = e.id,
                            r = e.currency,
                            i = e.coupon,
                            c = G(e, ["revenue", "id", "currency", "coupon"]);
                        return [
                            ["event", "purchase", R({}, o({
                                revenue: n,
                                id: t,
                                currency: r,
                                coupon: i
                            }, V), {
                                transaction_id: t,
                                event_action: "Purchase",
                                event_category: B(c),
                                items: q(c)
                            })]
                        ]
                    },
                    Lead: function(e) {
                        var n = e.category,
                            t = void 0 === n ? "Leads" : n,
                            r = e.action,
                            o = void 0 === r ? "Submitted" : r,
                            i = e.label;
                        return [
                            ["event", "generate_lead", {
                                event_category: t,
                                event_action: o,
                                event_label: void 0 === i ? "New Lead" : i
                            }]
                        ]
                    },
                    CustomEvent: function(e) {
                        var n = e.event,
                            t = void 0 === n ? "customEvent" : n,
                            r = e.eventAction,
                            o = e.eventCategory,
                            i = e.eventLabel,
                            c = G(e, ["event", "eventAction", "eventCategory", "eventLabel"]);
                        return [
                            ["event", r || t, R({}, c, {
                                event_category: o,
                                event_label: i
                            })]
                        ]
                    }
                },
                W = [],
                X = {
                    PageView: function(e) {
                        var n = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).context;
                        return n && n.isFirstVisit ? W : [
                            []
                        ]
                    }
                },
                Y = {},
                U = void 0,
                z = void 0,
                J = function(e) {
                    return {
                        isPremium: function() {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                                n = e.isPremium,
                                t = e.isPremiumDomain,
                                r = e.isPremiumUser;
                            return n && n() || t && t() || r && r()
                        }(e),
                        userId: e.getUserId(),
                        metaSiteId: e.getMetaSiteId()
                    }
                },
                $ = function(e, n) {
                    (function(e, n) {
                        return Object.prototype.hasOwnProperty.call(e, n)
                    })(Y, e) || (Y[e] = n)
                },
                H = function(e, n) {
                    Object.keys(Y).forEach(function(t) {
                        Y[t].call(void 0, e, function(e) {
                            return Object.assign({}, e, z)
                        }(n))
                    })
                },
                Q = function(e) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    U && U(e, n)
                };
            t.d(n, "a", function() {
                return Z
            }), t.d(n, "b", function() {
                return ee
            }), t.d(n, "c", function() {
                return ne
            });
            var Z = {
                    FACEBOOK_PIXEL: "facebookPixel",
                    GOOGLE_ANALYTICS: "googleAnalytics",
                    GOOGLE_TAG_MANAGER: "googleTagManager",
                    WIX_ANALYTICS: "wixAnalytics",
                    BI_ANALYTICS: "biAnalytics",
                    GTAG: "gtag",
                    GLOBAL_GTAG: "globalGtag",
                    VK_RETARGETING: "vkRetargeting",
                    YANDEX_METRICA: "yandexMetrica",
                    WIX_DEVELOPERS_ANALYTICS: "wix-developers-analytics"
                },
                ee = ((D = {})[Z.FACEBOOK_PIXEL] = d, D[Z.GOOGLE_ANALYTICS] = m, D[Z.GOOGLE_TAG_MANAGER] = _, D[Z.WIX_ANALYTICS] = P, D[Z.BI_ANALYTICS] = x, D[Z.GTAG] = j, D[Z.GLOBAL_GTAG] = K, D[Z.VK_RETARGETING] = {
                    PageView: function() {
                        return [
                            []
                        ]
                    }
                }, D[Z.YANDEX_METRICA] = X, D),
                ne = ((N = {})[Z.WIX_DEVELOPERS_ANALYTICS] = function(e, n) {
                    if (e) {
                        if (window) {
                            window.wixDevelopersAnalytics = window.wixDevelopersAnalytics || {
                                register: $,
                                triggerEvent: Q
                            }, "function" == typeof window.onWixDevelopersAnalyticsReady && window.onWixDevelopersAnalyticsReady();
                            try {
                                window.dispatchEvent(new Event("wixDevelopersAnalyticsReady"))
                            } catch (e) {}
                        }
                        return U = e, z = J(n), H
                    }
                }, N)
        },
        29: function(e, n, t) {
            "use strict";
            t.r(n);
            var r = t(3);
            t.d(n, "api", function() {
                return r
            });
            var o = t(1);
            t.d(n, "channelNames", function() {
                return o.a
            }), t.d(n, "listeners", function() {
                return o.c
            })
        },
        3: function(e, n, t) {
            "use strict";
            var r;
            t.r(n);
            var o = new Uint8Array(16);
            var i = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
            for (var c = function(e) {
                    return "string" == typeof e && i.test(e)
                }, a = [], u = 0; u < 256; ++u) a.push((u + 256).toString(16).substr(1));
            var s = function(e) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    t = (a[e[n + 0]] + a[e[n + 1]] + a[e[n + 2]] + a[e[n + 3]] + "-" + a[e[n + 4]] + a[e[n + 5]] + "-" + a[e[n + 6]] + a[e[n + 7]] + "-" + a[e[n + 8]] + a[e[n + 9]] + "-" + a[e[n + 10]] + a[e[n + 11]] + a[e[n + 12]] + a[e[n + 13]] + a[e[n + 14]] + a[e[n + 15]]).toLowerCase();
                if (!c(t)) throw TypeError("Stringified UUID is invalid");
                return t
            };
            var p = function(e, n, t) {
                var i = (e = e || {}).random || (e.rng || function() {
                    if (!r && !(r = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto))) throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
                    return r(o)
                })();
                if (i[6] = 15 & i[6] | 64, i[8] = 63 & i[8] | 128, n) {
                    t = t || 0;
                    for (var c = 0; c < 16; ++c) n[t + c] = i[c];
                    return n
                }
                return s(i)
            };
            var d = function(e, n) {
                    var t = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                        r = arguments[3],
                        o = t.appDefId,
                        i = function(e, n) {
                            var t = {};
                            for (var r in e) n.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);
                            return t
                        }(t, ["appDefId"]);
                    return n.events ? ((r = r || {}).config = n.config, r.context = r.context || {}, "boolean" == typeof r.context && (r.context = {
                        isFirstVisit: r.context
                    }), r.context.appDefId = r.context.appDefId || o, n.events[e] ? n.events[e](i, r) : []) : r && r.preventDefaultChannels ? [] : [
                        [e, i].concat(r ? [r] : [])
                    ]
                },
                v = Object.assign || function(e) {
                    for (var n = 1; n < arguments.length; n++) {
                        var t = arguments[n];
                        for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r])
                    }
                    return e
                },
                f = function(e, n, t, r) {
                    var o = v({}, t, {
                        _internalEventId: p()
                    });
                    e.forEach(function(e) {
                        d(n, e, o, r).forEach(function(n) {
                            return e.report.apply(e, n)
                        })
                    })
                },
                l = t(1);
            var m = function() {
                function e() {
                    var n = this,
                        t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    ! function(e, n) {
                        if (!(e instanceof n)) throw new TypeError("Cannot call a class as a function")
                    }(this, e), this._channels = [], this._listeners = [], this.addChannel = function(e) {
                        n.isChannelAlreadyInit(e) || (n.isChannelPredefined(e) ? n.populateChannelEvents(e) : n.registerChannel(e), n.isChannelValid(e) && n._channels.push(e))
                    }, this.addListener = function(e) {
                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                        Array.isArray(e) && e.forEach(function(e) {
                            if (n.isListenerInitializerValid(e)) {
                                var r = e(n.trackEvent, t);
                                r && !n.isListenerAlreadyInit(r) && n._listeners.push(r)
                            }
                        })
                    }, this.trackEvent = function(e, t, r) {
                        f([].concat(n._channels, n.getReporters()), e, t, r)
                    }, this.trackEventToListenersOnly = function(e, t, r) {
                        f(n.getReporters(), e, t, r)
                    }, this.trackEventToChannelsOnly = function(e, t, r) {
                        f(n._channels, e, t, r)
                    }, this.getReporters = function() {
                        return n._listeners.map(function(e) {
                            return {
                                report: e
                            }
                        })
                    }, this.isChannelAlreadyInit = function(e) {
                        return n._channels.some(function(n) {
                            return n.name === e.name
                        })
                    }, this.isListenerAlreadyInit = function(e) {
                        return n._listeners.some(function(n) {
                            return n === e
                        })
                    }, this.isListenerInitializerValid = function(e) {
                        return e && e instanceof Function
                    }, t.forEach(this.addChannel)
                }
                return e.prototype.isChannelPredefined = function(e) {
                    return l.b[e.name]
                }, e.prototype.populateChannelEvents = function(e) {
                    e.events = l.b[e.name], e.events.publicTracking && e.events.publicTracking instanceof Function && e.events.publicTracking()
                }, e.prototype.isChannelValid = function(e) {
                    var n = e.name,
                        t = e.report,
                        r = e.events && Object.values(e.events).every(function(e) {
                            return "function" == typeof e
                        });
                    return n && t && r
                }, e.prototype.registerChannel = function(e) {
                    this.isChannelValid(e) && (l.b[e.name] = e.events)
                }, e
            }();
            t.d(n, "init", function() {
                return g
            }), t.d(n, "addListener", function() {
                return h
            }), t.d(n, "trackEvent", function() {
                return _
            }), t.d(n, "trackEventToChannelsOnly", function() {
                return I
            }), t.d(n, "trackEventToListenersOnly", function() {
                return b
            });
            var y = new m,
                g = function() {
                    (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).forEach(y.addChannel)
                },
                h = function(e, n) {
                    y.addListener(e, n)
                },
                _ = function(e, n, t) {
                    y.trackEvent(e, n, t)
                },
                I = function(e, n, t) {
                    y.trackEventToChannelsOnly(e, n, t)
                },
                b = function(e, n, t) {
                    y.trackEventToListenersOnly(e, n, t)
                }
        }
    })
});
//# sourceMappingURL=analytics-event-adapter.bundle.min.js.map