(self.webpackJsonp__wix_thunderbolt_app = self.webpackJsonp__wix_thunderbolt_app || []).push([
    [6556], {
        79476: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                page: function() {
                    return g
                }
            });
            var i = n(95793),
                r = n(31191),
                o = n(43757),
                a = n(19095),
                u = n(5096),
                s = function(e, t, n) {
                    return {
                        error: {
                            errorCode: e,
                            message: t,
                            error: n
                        }
                    }
                },
                c = "APPLE_PAY_IS_NOT_AVAILABLE_ERROR",
                p = "BAD_REQUEST_ERROR",
                l = "WIX_ERROR",
                d = function(e) {
                    return function() {
                        for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                        return window.ApplePaySession ? "function" == typeof e ? e.apply(void 0, (0, r.ev)([], (0, r.CR)(t))) : void 0 : {
                            error: {
                                errorCode: c
                            }
                        }
                    }
                },
                f = (0, o.ff)([u.Zr], (function(e) {
                    var t = e.siteAssets;
                    return {
                        getTpaHandlers: function() {
                            var e = this;
                            return {
                                applePayInvokeMethod: d((function(t, n) {
                                    return (0, r.mG)(e, void 0, void 0, (function() {
                                        return (0, r.Jh)(this, (function(e) {
                                            if (!n.methodName) return [2, s(p)];
                                            switch (n.methodName) {
                                                case "canMakePayments":
                                                    try {
                                                        return [2, {
                                                            result: window.ApplePaySession.canMakePayments()
                                                        }]
                                                    } catch (e) {
                                                        return [2, s(l, "ApplePaySession.canMakePayments() failed", e)]
                                                    }
                                                case "supportsVersion":
                                                    try {
                                                        return [2, {
                                                            result: window.ApplePaySession.supportsVersion(n.payload.version)
                                                        }]
                                                    } catch (e) {
                                                        return [2, s(l, "ApplePaySession.supportsVersion(" + n.payload.version + ") failed", e)]
                                                    }
                                                default:
                                                    return [2, s(p)]
                                            }
                                            return [2]
                                        }))
                                    }))
                                })),
                                applePayStartSession: d((function(n, i, o) {
                                    var u = i.paymentRequest,
                                        c = i.applePayVersion,
                                        p = i.callbackApiId;
                                    return (0, r.mG)(e, void 0, Promise, (function() {
                                        var e, n, i, d, f, g = this;
                                        return (0, r.Jh)(this, (function(h) {
                                            switch (h.label) {
                                                case 0:
                                                    return h.trys.push([0, 4, , 5]), e = new window.ApplePaySession(c, u), [4, (0, a.FR)(t.clientTopology.moduleRepoUrl)];
                                                case 1:
                                                    return n = h.sent(), (i = window.document.querySelector("#" + o.originCompId + " > iframe")) ? [4, n.api.request(p, {
                                                        target: i
                                                    })] : [2, s(l, "Can not find a TPA iframe with id: " + o.originCompId)];
                                                case 2:
                                                    return d = h.sent(), e.onvalidatemerchant = function(t) {
                                                        return (0, r.mG)(g, void 0, void 0, (function() {
                                                            var n;
                                                            return (0, r.Jh)(this, (function(i) {
                                                                switch (i.label) {
                                                                    case 0:
                                                                        return [4, d.onValidateMerchant({
                                                                            validationURL: t.validationURL
                                                                        })];
                                                                    case 1:
                                                                        return n = i.sent(), [2, e.completeMerchantValidation(n)]
                                                                }
                                                            }))
                                                        }))
                                                    }, e.onshippingcontactselected = function(t) {
                                                        return (0, r.mG)(g, void 0, void 0, (function() {
                                                            var n;
                                                            return (0, r.Jh)(this, (function(i) {
                                                                switch (i.label) {
                                                                    case 0:
                                                                        return [4, d.onShippingContactSelected({
                                                                            shippingContact: t.shippingContact
                                                                        })];
                                                                    case 1:
                                                                        return n = i.sent(), Array.isArray(n.errors) && (n.errors = n.errors.map((function(e) {
                                                                            return t = e, new window.ApplePayError(t.code, t.contactField, t.message);
                                                                            var t
                                                                        }))), [2, e.completeShippingContactSelection(n)]
                                                                }
                                                            }))
                                                        }))
                                                    }, e.onshippingmethodselected = function(t) {
                                                        return (0, r.mG)(g, void 0, void 0, (function() {
                                                            var n;
                                                            return (0, r.Jh)(this, (function(i) {
                                                                switch (i.label) {
                                                                    case 0:
                                                                        return [4, d.onShippingMethodSelected({
                                                                            shippingMethod: t.shippingMethod
                                                                        })];
                                                                    case 1:
                                                                        return n = i.sent(), [2, e.completePaymentMethodSelection(n)]
                                                                }
                                                            }))
                                                        }))
                                                    }, e.onpaymentauthorized = function(t) {
                                                        return (0, r.mG)(g, void 0, void 0, (function() {
                                                            var n;
                                                            return (0, r.Jh)(this, (function(i) {
                                                                switch (i.label) {
                                                                    case 0:
                                                                        return [4, d.onPaymentAuthorized({
                                                                            payment: t.payment
                                                                        })];
                                                                    case 1:
                                                                        return n = i.sent(), [2, e.completePayment(n)]
                                                                }
                                                            }))
                                                        }))
                                                    }, e.oncancel = function() {
                                                        return (0, r.mG)(g, void 0, void 0, (function() {
                                                            return (0, r.Jh)(this, (function(e) {
                                                                switch (e.label) {
                                                                    case 0:
                                                                        return [4, d.onCancel()];
                                                                    case 1:
                                                                        return [2, e.sent()]
                                                                }
                                                            }))
                                                        }))
                                                    }, [4, d.onClick()];
                                                case 3:
                                                    return h.sent().canceled ? [2] : (e.begin(), [3, 5]);
                                                case 4:
                                                    return f = h.sent(), [2, s(l, null == f ? void 0 : f.message, f)];
                                                case 5:
                                                    return [2]
                                            }
                                        }))
                                    }))
                                }))
                            }
                        }
                    }
                })),
                g = function(e) {
                    e(i.g).to(f)
                }
        },
        12073: function(e, t, n) {
            "use strict";
            n.d(t, {
                $E: function() {
                    return s
                },
                $H: function() {
                    return c
                },
                Xr: function() {
                    return p
                }
            });
            var i = n(31191),
                r = n(43757),
                o = n(5096),
                a = n(98118),
                u = {},
                s = "TPA_PUB_SUB_";

            function c(e) {
                var t = new RegExp("^" + s);
                return e.replace(t, "")
            }
            var p = (0, r.ff)([o.ZQ, a.ku], (function(e, t) {
                function n(e, t) {
                    var n, i = {
                        persistentData: [],
                        listeners: {}
                    };
                    return u[e] ? u[e][t] || (u[e][t] = i) : u[e] = ((n = {})[t] = i, n), u[e][t]
                }

                function r(e) {
                    Object.keys(u).forEach((function(t) {
                        Object.keys(u[t]).forEach((function(r) {
                            var o = n(t, r);
                            Object.entries(o.listeners).forEach((function(t) {
                                var n = (0, i.CR)(t, 2),
                                    r = n[0],
                                    a = n[1];
                                Object.keys(a).forEach((function(t) {
                                    e(t, r) && delete o.listeners[r][t]
                                }))
                            }))
                        }))
                    }))
                }
                return {
                    publish: function(e, t, r) {
                        var o = c(r.eventKey),
                            a = r.isPersistent,
                            u = n(e, o),
                            s = u.listeners;
                        if (Object.entries(s).forEach((function(e) {
                                var n = (0, i.CR)(e, 2),
                                    a = n[0],
                                    u = n[1];
                                return Object.keys(u).forEach((function(e) {
                                    s[a][e].forEach((function(e) {
                                        return e({
                                            data: r.eventData,
                                            name: o,
                                            origin: t
                                        })
                                    }))
                                }))
                            })), a) {
                            var p = r.eventData;
                            u.persistentData.push({
                                name: o,
                                data: p
                            })
                        }
                    },
                    subscribe: function(e, i, r, o) {
                        var a = c(r.eventKey),
                            u = n(e, a);
                        u.listeners[t] || (u.listeners[t] = {}), u.listeners[t][i] ? "worker" === i && u.listeners[t][i].push(o) : u.listeners[t][i] = [o], r.isPersistent && u.persistentData.length && o({
                            data: u.persistentData[0].data,
                            name: a,
                            origin: i
                        }, !0)
                    },
                    unsubscribe: function(e, t, i) {
                        var r = n(e, c(i));
                        Object.keys(r.listeners).forEach((function(e) {
                            delete r.listeners[e][t]
                        }))
                    },
                    handleIframeSubscribe: function(t, n, i) {
                        var r = i.eventKey,
                            o = i.isPersistent,
                            a = i.callId;
                        this.subscribe(t, n, {
                            eventKey: r,
                            isPersistent: o
                        }, (function(t, i) {
                            void 0 === i && (i = !1),
                                function(e, t, n) {
                                    var i = n.document.getElementById(e);
                                    if (i) {
                                        var r = i.getElementsByTagName("iframe")[0];
                                        r && r.contentWindow && r.contentWindow.postMessage(JSON.stringify(t), "*")
                                    }
                                }(n, i ? {
                                    intent: "TPA_RESPONSE",
                                    callId: a,
                                    type: "registerEventListener",
                                    res: {
                                        drain: !0,
                                        data: [t]
                                    },
                                    status: !0,
                                    compId: n
                                } : {
                                    eventType: r,
                                    intent: "addEventListener",
                                    params: t
                                }, e)
                        }))
                    },
                    clearListenersBesideStubs: function() {
                        r((function(e, n) {
                            return !e.includes("tpapopup") && !e.includes("tpaWorker") && n === t && "masterPage" !== n
                        }))
                    },
                    clearListenersByCompId: function(e) {
                        r((function(t) {
                            return t === e
                        }))
                    }
                }
            }))
        },
        48273: function(e, t, n) {
            "use strict";
            n.r(t), n.d(t, {
                SiteMapSymbol: function() {
                    return d.Cc
                },
                TpaEventsListenerManagerSymbol: function() {
                    return d.PV
                },
                TpaFullScreenModeSymbol: function() {
                    return d.u5
                },
                TpaModalSymbol: function() {
                    return d.R3
                },
                TpaPopupSymbol: function() {
                    return d.jn
                },
                TpaSymbol: function() {
                    return d.e4
                },
                name: function() {
                    return d.u2
                },
                page: function() {
                    return bn
                }
            });
            var i, r, o = n(59032),
                a = n(95793),
                u = n(5096),
                s = n(31191),
                c = n(43757),
                p = n(61049),
                l = n(55048),
                d = n(7259),
                f = n(20140),
                g = "_rtby_",
                h = function(e, t) {
                    return "" + e + g + t
                },
                v = function(e) {
                    return e.split(g).length > 1
                },
                m = function(e) {
                    var t = (0, s.CR)(e.split(g), 2),
                        n = t[0];
                    return t[1] || n
                },
                I = n(37793),
                P = n(54163),
                y = Symbol("TPA_HANDLER_EMPTY_RESPONSE"),
                T = {
                    WIX_CHAT: "14517e1a-3ff0-af98-408e-2bd6953c36a2",
                    WIX_RESTAURANTS: "13e8d036-5516-6104-b456-c8466db39542"
                },
                w = "PageLink",
                C = "ExternalLink",
                b = "AnchorLink",
                S = "EmailLink",
                R = "PhoneLink",
                E = "WhatsAppLink",
                D = "DocumentLink",
                A = "DynamicPageLink",
                x = "AddressLink",
                M = "MenuHeader",
                k = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2), (0, c.fi)(a.g), l.xP, u.ZQ, u.Zr, (0, c.jt)(P.m), (0, c.jt)(I.KO)], (function(e, t, n, i, r, o, a, u) {
                    var c = o.mode.debug,
                        p = e.appsClientSpecMapData,
                        l = function(e) {
                            var n = e.tpa,
                                i = e.origin,
                                r = e.callId,
                                o = e.status,
                                a = e.res,
                                s = e.compId,
                                c = {
                                    callId: r,
                                    intent: "TPA_RESPONSE",
                                    status: o,
                                    res: a
                                };
                            u && u.tpa.addMessage({
                                message: c,
                                compId: s,
                                contextId: t.pageId,
                                origin: i
                            }), n.postMessage(JSON.stringify(c), "*")
                        },
                        d = Object.assign.apply(Object, (0, s.ev)([{}], (0, s.CR)(n.map((function(e) {
                            return e.getTpaHandlers()
                        })))));
                    return {
                        handleMessage: function(n) {
                            var r = n.source,
                                o = n.origin,
                                u = n.message;
                            return (0, s.mG)(this, void 0, void 0, (function() {
                                var n, f, g, h, v, I, P, T, w, C, b, S, R, E, D, A, x;
                                return (0, s.Jh)(this, (function(s) {
                                    switch (s.label) {
                                        case 0:
                                            if (n = u.type, f = u.callId, g = u.compId, h = u.data, v = d[n], I = m(g), P = t.widgets[I], T = null == a ? void 0 : a.isTpaWorker(g), w = T ? a.getWorkerDetails(g) : null, C = T ? w.appDefinitionId : null == P ? void 0 : P.appDefinitionId, "https://static.parastorage.com" !== o && ! function(e, t) {
                                                    var n, r = null === (n = i.get(e)) || void 0 === n ? void 0 : n.src;
                                                    return !!r && new URL(r).origin === t
                                                }(g, o) && ! function(e) {
                                                    return "https://editor.wix.com" === e || "https://create.editorx.com" === e || "https://blocks.wix.com" === e
                                                }(o)) return c && console.warn("discarded message from untrusted origin", {
                                                origin: o,
                                                message: u
                                            }), [2];
                                            if (!v) return c && console.warn("TpaHandlerError: " + n + " handler is not implemented"), [2];
                                            if (b = {
                                                    callId: f,
                                                    tpa: r,
                                                    appDefinitionId: C,
                                                    tpaCompData: P,
                                                    appClientSpecMapData: p[C],
                                                    originCompId: I,
                                                    viewMode: e.viewMode
                                                }, void 0 === (S = v(g, h, b))) return [2];
                                            s.label = 1;
                                        case 1:
                                            return s.trys.push([1, 3, , 4]), [4, S];
                                        case 2:
                                            return (R = s.sent()) === y ? [2] : (l({
                                                tpa: r,
                                                origin: o,
                                                callId: f,
                                                compId: g,
                                                status: !0,
                                                res: R
                                            }), [3, 4]);
                                        case 3:
                                            return E = s.sent(), D = E.message, A = E.name, x = E.stack, l({
                                                tpa: r,
                                                origin: o,
                                                callId: f,
                                                compId: g,
                                                status: !1,
                                                res: {
                                                    error: {
                                                        message: D,
                                                        name: A,
                                                        stack: x
                                                    }
                                                }
                                            }), [3, 4];
                                        case 4:
                                            return [2]
                                    }
                                }))
                            }))
                        }
                    }
                })),
                L = n(29203),
                O = (0, c.ff)([(0, c.t6)(p.$e, d.u2), L.e, d.PV], (function(e, t, n) {
                    var i = function() {},
                        r = function(t) {
                            Object.entries(e.widgets).forEach((function(e) {
                                n.dispatch("CONSENT_POLICY_UPDATE", (function() {
                                    return t
                                }), {
                                    compId: e[0]
                                })
                            }))
                        };
                    return {
                        pageDidMount: function() {
                            i = t.registerToChanges(r)
                        },
                        pageDidUnmount: function() {
                            i()
                        }
                    }
                })),
                U = (0, c.ff)([], (function() {
                    return {
                        getTpaHandlers: function() {
                            return {}
                        }
                    }
                })),
                _ = n(50287),
                j = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.jt)(_.d)], (function(e, t) {
                    var i = e.externalBaseUrl;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getCustomizedUrlSegments: function(e, r) {
                                    return (0, s.mG)(this, void 0, void 0, (function() {
                                        var e, o, a;
                                        return (0, s.Jh)(this, (function(u) {
                                            switch (u.label) {
                                                case 0:
                                                    return e = r.url, o = r.options, a = null == t ? void 0 : t.urlMappings, [4, n.e(7482).then(n.bind(n, 35755))];
                                                case 1:
                                                    return [2, (0, u.sent().getCustomizedUrlSegments)(a, e, (0, s.pi)({
                                                        baseUrl: i
                                                    }, o))]
                                            }
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                H = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.jt)(_.d)], (function(e, t) {
                    var i = e.externalBaseUrl;
                    return {
                        getTpaHandlers: function() {
                            return {
                                buildCustomizedUrl: function(e, r) {
                                    return (0, s.mG)(this, void 0, void 0, (function() {
                                        var e, o, a, u;
                                        return (0, s.Jh)(this, (function(c) {
                                            switch (c.label) {
                                                case 0:
                                                    return e = r.key, o = r.itemData, a = r.options, u = null == t ? void 0 : t.urlMappings, [4, n.e(7482).then(n.bind(n, 35755))];
                                                case 1:
                                                    return [2, (0, c.sent().buildCustomizedUrl)(u, e, o, (0, s.pi)({
                                                        baseUrl: i
                                                    }, a))]
                                            }
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                N = n(16684),
                B = n.n(N),
                F = /(?:\+|\()?\d(?:[-.() \t\u00a0\u1680\u180e\u2000\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]{0,5}\d){6,16}\)?(?![<@)\w])|\*\d{4}(?![<@)\w])/,
                G = /(^|[\s:;,<>])([A-Z0-9][A-Z0-9._%+-]+@[A-Z0-9][A-Z0-9.-]+\.[A-Z]{2,})(?=$|[\s:;,<>])/i,
                V = /(^|[\s:;,<>])((?:https?:\/\/|www\.)[a-z0-9](?:\.?[a-z0-9\-%_])*(?:(?:\\|\/)[a-z0-9\-._~:/\\?#[\]@!$&'()*+,;=%]*)?)(?=$|[^a-z0-9\-._~:/\\?#[\]@!$&'()*+,;=%])/i,
                z = new RegExp(/(?:^|[\s:;,<>])(?:\+|\()?\d(?:[-.() \t\u00a0\u1680\u180e\u2000\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]{0,5}\d){6,16}\)?(?![<@)\w])|\*\d{4}(?![<@)\w])/, "g"),
                W = /([A-Z0-9][A-Z0-9._%+-]+@[A-Z0-9][A-Z0-9.-]+\.[A-Z]{2,})/gi,
                J = /((?:https?:\/\/|www\.)[a-z0-9](?:\.?[a-z0-9\-%_])*(?:(?:\\|\/)[a-z0-9\-._~:/\\?#[\]@!$&'()*+,;=%]*)?)/gi,
                $ = "PHONE",
                Z = "MAIL",
                Q = "URL",
                X = function(e) {
                    return 0 === e.toLowerCase().indexOf("http") ? e : "http://" + e
                },
                K = [" ", ":", ";", ",", "<", ">"],
                q = ((i = {})[$] = function(e) {
                    var t = e.match(F);
                    return t && {
                        key: t[0],
                        value: t[0].match(/[*\d]/g).join(""),
                        index: t.index,
                        pattern: $
                    }
                }, i[Z] = function(e) {
                    var t = e.match(G);
                    if (t) {
                        var n = t[1].length,
                            i = t[2];
                        return {
                            key: i,
                            value: i,
                            index: t.index + n,
                            pattern: Z
                        }
                    }
                    return null
                }, i[Q] = function(e) {
                    var t = e.match(V);
                    if (t) {
                        var n = t[2],
                            i = t[1].length;
                        return {
                            key: n,
                            value: X(n),
                            index: t.index + i,
                            pattern: Q
                        }
                    }
                    return null
                }, i);
            var Y = ((r = {})[$] = "tel:", r[Z] = "mailto:", r[Q] = "", r),
                ee = function(e, t) {
                    var n = function(e, t) {
                        if (void 0 === t && (t = {}), !e) return null;
                        var n = Object.keys(t).filter((function(e) {
                            return t[e]
                        })).map((function(t) {
                            return q[t](e)
                        })).filter((function(e) {
                            return null !== e
                        }));
                        return n[0] ? n.reduce((function(e, t) {
                            return t.index < e.index ? t : e
                        }), n[0]) : null
                    }(e, {
                        MAIL: !0,
                        URL: !0,
                        PHONE: t
                    });
                    return n && function(e) {
                        var t = e.pattern,
                            n = e.value,
                            i = t === Q ? {
                                target: "_blank"
                            } : {};
                        return (0, s.pi)((0, s.pi)({}, i), {
                            href: "" + Y[t] + n
                        })
                    }(n)
                },
                te = function(e) {
                    return function(t) {
                        var n = "",
                            i = t.trim();
                        switch (e) {
                            case "email":
                                n = 'href="mailto:' + i + '"';
                                break;
                            case "phone":
                                n = 'href="tel:' + i + '"';
                                break;
                            case "url":
                                n = 'href="' + X(i) + '" target="_blank"'
                        }
                        return '<a data-auto-recognition="true" ' + n + ">" + t + "</a>"
                    }
                },
                ne = te("email"),
                ie = te("url"),
                re = te("phone"),
                oe = function(e, t) {
                    return function(n, i) {
                        if (!i || !t && i.startsWith("&lt;")) return n;
                        var r, o = (r = ne, i.replace(W, r));
                        return o = function(e, t) {
                            return e.replace(J, t)
                        }(o, ie), e && (o = function(e, t) {
                            return e.replace(z, (function(e) {
                                var n = K.find((function(t) {
                                    return t === e[0]
                                }));
                                return n ? n + t(e.substring(1, e.length)) : t(e)
                            }))
                        }(o, re)), n.split(i).join(o)
                    }
                };
            var ae, ue = function(e) {
                    var t = e.recipient,
                        n = e.subject,
                        i = e.body,
                        r = (0, s.pi)((0, s.pi)({}, n && {
                            subject: n
                        }), i && {
                            body: i
                        }),
                        o = Object.keys(r).map((function(e) {
                            return e + "=" + r[e]
                        })).join("&");
                    return "mailto:" + t + (o.length > 0 ? "?" + o : "")
                },
                se = function(e) {
                    return "tel:" + e.phoneNumber
                },
                ce = function(e, t, n) {
                    var i, r = e.docId,
                        o = e.name,
                        a = e.indexable,
                        u = "https://" + t + "." + n,
                        s = r.includes("/") ? r : "ugd/" + r;
                    return "" + u + (s.startsWith("/") ? s : "/" + s) + (r.endsWith(".pdf") ? a ? "?index=true" : "" : "?" + (i = {
                        dn: o
                    }, Object.keys(i).map((function(e) {
                        return e + "=" + encodeURIComponent(i[e])
                    })).join("&")))
                },
                pe = n(73487),
                le = /^\/([^ ?#]*)?[#]?([^ ?#]*)[?]?(.*)/,
                de = /^#([^ ?]*)[?]?(.*)/,
                fe = /^(http|https):\/\/(.*)/,
                ge = /^wix:document:\/\/v1\/(.+)\/(.+)/,
                he = /^document:\/\/(.*)/,
                ve = {
                    top: "SCROLL_TO_TOP",
                    bottom: "SCROLL_TO_BOTTOM"
                },
                me = function(e) {
                    return fe.test(e)
                },
                Ie = function(e, t) {
                    if (e) {
                        var n = (0, s.CR)(t.replace("#", "/#").split(/[/]+/), 1)[0];
                        return 1 === Object.values(e).filter((function(e) {
                            return e.prefix === n
                        })).length
                    }
                    return !1
                },
                Pe = function(e, t) {
                    var n = Object.keys(e.routes).find((function(n) {
                        var i = e.routes[n];
                        return "Dynamic" === i.type ? (i.pageIds || []).includes(t) : i.pageId === t
                    }));
                    if (n) return n.replace(/^\.\//, "/");
                    throw new Error("No url route for pageId: " + t)
                },
                ye = function(e) {
                    function t() {
                        var n = e.call(this, "Unsupported link type") || this;
                        return n.name = "UnsupportedLinkTypeError", Error.captureStackTrace && Error.captureStackTrace(n, t), n
                    }
                    return (0, s.ZT)(t, e), t
                }(Error),
                Te = function(e) {
                    return e.replace(/\.\//, "/")
                },
                we = function(e) {
                    return ["SCROLL_TO_TOP", "SCROLL_TO_BOTTOM"].includes(e)
                },
                Ce = function(e) {
                    var t = e.routingInfo,
                        n = e.metaSiteId,
                        i = e.userFileDomainUrl,
                        r = e.popupPages,
                        o = e.getCompIdByWixCodeNickname,
                        a = e.getRoleForCompId,
                        u = e.routersConfig,
                        c = e.multilingualInfo,
                        p = e.isMobileView,
                        l = "https://" + n + "." + i + "/",
                        d = function(e) {
                            return !!r && r[e]
                        },
                        f = function(e, t) {
                            return void 0 === t && (t = ""), "wix:document://v1/" + e + "/" + t
                        },
                        g = function(e) {
                            var t, n = (0, s.CR)(le.exec(e), 4),
                                i = n[1],
                                r = void 0 === i ? "" : i,
                                o = n[2],
                                a = void 0 === o ? "" : o,
                                u = n[3],
                                p = new URLSearchParams(void 0 === u ? "" : u);
                            return (null == c ? void 0 : c.isOriginalLanguage) || "QueryParam" !== (null === (t = null == c ? void 0 : c.currentLanguage) || void 0 === t ? void 0 : t.resolutionMethod) || p.set("lang", c.currentLanguage.languageCode), {
                                relativePageUrlPrefix: r,
                                anchor: a,
                                queryString: p.toString()
                            }
                        },
                        h = function(e, n) {
                            void 0 === n && (n = "_self");
                            var i = g(e),
                                r = i.relativePageUrlPrefix,
                                a = void 0 === r ? "" : r,
                                c = i.anchor,
                                p = void 0 === c ? "" : c,
                                l = i.queryString,
                                f = ve[p] || p;
                            if (d(a)) return {
                                type: "PageLink",
                                href: "",
                                target: "_self",
                                linkPopupId: a
                            };
                            var h, v, m, I = t.externalBaseUrl;
                            if (Ie(u, a)) {
                                m = "./" + a === t.relativeUrl, h = "DynamicPageLink", v = I + "/" + a
                            } else {
                                var P = (0, s.CR)(a.split("/")),
                                    y = P[0],
                                    T = P.slice(1),
                                    w = T.length > 0 ? "/" + T.join("/") : "",
                                    C = decodeURIComponent(y),
                                    b = "./" + C,
                                    S = t.routes[b];
                                h = "PageLink", v = (null == S ? void 0 : S.pageId) === t.mainPageId && !w ? I : I + "/" + C + w, m = S && S.pageId === t.pageId
                            }
                            var R = f && o && o(f),
                                E = m && R,
                                D = f && !E;
                            return (0, s.pi)((0, s.pi)({
                                href: v + (l ? "?" + new URLSearchParams(l).toString() : ""),
                                target: n,
                                type: h
                            }, E && {
                                anchorCompId: R
                            }), D && {
                                anchorDataId: f
                            })
                        };
                    return {
                        isAbsoluteUrl: me,
                        isDynamicPage: function(e) {
                            var t = g(e).relativePageUrlPrefix;
                            return Ie(u, t)
                        },
                        getImpliedLink: function(e) {
                            return ee(e, p)
                        },
                        getImpliedLinks: function(e, t) {
                            return function(e, t, n) {
                                var i = (void 0 === n ? {
                                    parseEscaped: !1
                                } : n).parseEscaped;
                                return e.replace(/>((?![<>]).+?)<|(?:<a.*>.*<\/a>)/g, oe(t, i))
                            }(e, p, t)
                        },
                        getLink: function(e) {
                            var n = void 0 === e ? {} : e,
                                i = n.href,
                                r = void 0 === i ? "" : i,
                                o = n.linkPopupId,
                                u = n.anchorCompId,
                                c = void 0 === u ? "" : u,
                                p = n.anchorDataId,
                                d = void 0 === p ? "" : p,
                                g = n.docInfo,
                                h = n.type;
                            if (o) return "/" + o;
                            if ((0, pe.r5)(r)) return r;
                            if (function(e) {
                                    return e.startsWith(l)
                                }(r)) return f(g.docId, g.name);
                            if (we(d)) return "#" + (0, N.invert)(ve)[d];
                            if ("ExternalLink" === h) return r;
                            var v, m = (0, s.CR)(r.split("?"), 1)[0],
                                I = (null == a ? void 0 : a(c, "wixCode")) || d,
                                P = I ? "#" + I : "";
                            return "" + (m === t.externalBaseUrl ? (v = (0, s.CR)(Object.keys(Object.fromEntries(Object.entries(t.routes).filter((function(e) {
                                var n = (0, s.CR)(e, 2),
                                    i = n[0];
                                return n[1].pageId === t.mainPageId && "./" !== i
                            })))), 1)[0], Te(v)) : function(e) {
                                return e.replace(t.externalBaseUrl, "")
                            }(m)) + P
                        },
                        getLinkProps: function(e, r) {
                            if (a = e, de.test(a)) {
                                var o = Te(t.relativeUrl);
                                return h("" + o + e, r)
                            }
                            var a, u, c;
                            if (function(e) {
                                    return le.test(e)
                                }(e)) return h(e, r);
                            if ((0, pe.r5)(e)) return function(e) {
                                var t = (0, s.CR)(pe.eu.exec(e), 3),
                                    n = t[1],
                                    i = t[2],
                                    r = (0, N.escape)(n),
                                    o = (0, N.escape)(i);
                                return {
                                    type: "EmailLink",
                                    href: ue({
                                        recipient: r,
                                        subject: o
                                    }),
                                    target: "_self"
                                }
                            }(e);
                            if ((0, pe.J1)(e)) return u = e, c = (0, s.CR)(pe.D5.exec(u), 2)[1], {
                                type: "PhoneLink",
                                href: se({
                                    phoneNumber: c
                                }),
                                target: "_self"
                            };
                            if (me(e)) return function(e, t) {
                                return void 0 === t && (t = "_blank"), {
                                    type: "ExternalLink",
                                    href: e,
                                    target: t,
                                    rel: "noopener noreferrer"
                                }
                            }(e, r);
                            if (function(e) {
                                    return ge.test(e) || he.test(e)
                                }(e)) return function(e) {
                                var t = (0, s.CR)(ge.exec(e) || he.exec(e), 3),
                                    r = t[1],
                                    o = t[2];
                                return {
                                    type: "DocumentLink",
                                    href: ce({
                                        docId: r,
                                        name: o || "",
                                        indexable: !1
                                    }, n, i),
                                    target: "_blank",
                                    docInfo: {
                                        docId: r,
                                        name: o
                                    }
                                }
                            }(e);
                            throw new ye
                        },
                        getLinkUrlFromDataItem: function(e) {
                            var n = {
                                AnchorLink: function() {
                                    var n = e,
                                        i = n.anchorDataId,
                                        r = n.pageId,
                                        o = we(i) ? t.pageId : r.replace(/^#/, ""),
                                        a = i.startsWith("#") ? i : "#" + i;
                                    return "" + Pe(t, o) + a
                                },
                                DocumentLink: function() {
                                    var t = e,
                                        n = t.docId,
                                        i = t.name;
                                    return f(n, i)
                                },
                                ExternalLink: function() {
                                    return e.url
                                },
                                DynamicPageLink: function() {
                                    var n = e,
                                        i = n.routerId,
                                        r = n.innerRoute,
                                        o = n.anchorDataId,
                                        a = void 0 === o ? "" : o,
                                        c = n.isTpaRoute ? Pe(t, i) : "/" + u[i].prefix,
                                        p = r ? function(e) {
                                            var t = (0, s.CR)(e.split("?"), 2),
                                                n = t[0],
                                                i = t[1];
                                            if (i) {
                                                var r = encodeURIComponent("?" + i);
                                                return n ? "" + n + r : r
                                            }
                                            return n
                                        }(r) : r;
                                    return "" + c + (p ? "/" + p + a : a)
                                },
                                PageLink: function() {
                                    var n = e.pageId,
                                        i = (n.id || n || "").replace(/^#/, "");
                                    return d(i) ? "/" + i : i === t.mainPageId ? "/" : Pe(t, i)
                                },
                                PhoneLink: function() {
                                    return se(e)
                                },
                                EmailLink: function() {
                                    return ue(e)
                                }
                            }[e.type];
                            if (n) return n();
                            throw new Error("Provided link type is not supported")
                        }
                    }
                },
                be = n(19238),
                Se = n(23228),
                Re = n(88902),
                Ee = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2), (0, c.t6)(p.jC, d.u2), be.kc, (0, c.jt)(Se.wk), (0, c.jt)(Re.HC)], (function(e, t, n, i, r, o) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                getStateUrl: function(a, u, c) {
                                    var p, l = c.originCompId,
                                        d = e.metaSiteId,
                                        f = e.userFileDomainUrl,
                                        g = e.routersConfig,
                                        h = e.appsClientSpecMapByApplicationId,
                                        v = e.externalBaseUrl,
                                        m = e.isMobileView,
                                        I = Ce({
                                            routingInfo: i.getLinkUtilsRoutingInfo(),
                                            metaSiteId: d,
                                            userFileDomainUrl: f,
                                            routersConfig: g,
                                            popupPages: null == r ? void 0 : r.getPopupPages(),
                                            multilingualInfo: null == o ? void 0 : o.getMultilingualInfo(),
                                            isMobileView: m
                                        }),
                                        P = B()(n.pagesData).groupBy("tpaApplicationId").mapValues((function(e) {
                                            return e.map((function(e) {
                                                return e.id
                                            }))
                                        })).value(),
                                        y = Object.entries(n.pagesData).map((function(e) {
                                            var t, n = (0, s.CR)(e, 2),
                                                i = n[0];
                                            return (t = {})[n[1].tpaPageId] = i, t
                                        })).reduce(B().assign),
                                        T = u.state,
                                        w = u.sectionId,
                                        C = (p = l, t.widgets[p].applicationId),
                                        b = h[C],
                                        S = P[C];
                                    if (!S || 0 === S.length) return {
                                        error: {
                                            message: 'Page with app "' + b.appDefinitionName + '" was not found.'
                                        }
                                    };
                                    var R = {
                                            type: "DynamicPageLink",
                                            routerId: y[w] || S[0],
                                            isTpaRoute: !0,
                                            innerRoute: T
                                        },
                                        E = I.getLinkUrlFromDataItem(R);
                                    return I.isDynamicPage(E) ? {
                                        error: {
                                            message: "Can't retrieve url for a dynamic page. Please use the platform app API instead."
                                        }
                                    } : {
                                        url: "" + v + E
                                    }
                                }
                            }
                        }
                    }
                })),
                De = (0, c.ff)([(0, c.t6)(p.$e, d.u2)], (function(e) {
                    var t = e.widgets;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getStyleParamsByStyleId: function(e, n) {
                                    var i = Object.values(t).find((function(e) {
                                            return e.styleId === n.styleId
                                        })),
                                        r = null == i ? void 0 : i.style;
                                    return r ? (0, s.pi)({}, r) : {
                                        error: {
                                            message: 'Style id "' + n.styleId + '" was not found.'
                                        }
                                    }
                                }
                            }
                        }
                    }
                })),
                Ae = n(49574),
                xe = n(56405),
                Me = n(81600),
                ke = (0, c.ff)([u.Zr, (0, c.t6)(p.R9, f.u2), xe.X, u.ZQ, Ae.U], (function(e, t, n, i, r) {
                    var o = t.externalBaseUrl,
                        a = function(e) {
                            return (0, s.pi)({
                                activityDetails: {
                                    additionalInfoUrl: null,
                                    summary: ""
                                },
                                activityInfo: "activityInfo",
                                activityType: "activityType",
                                contactUpdate: {},
                                activityLocationUrl: i.location.href,
                                createdAt: (new Date).toISOString()
                            }, e)
                        },
                        u = function(e, t) {
                            return function(n) {
                                var i = new URL(t);
                                return Object.entries(n.params).forEach((function(e) {
                                    var t = (0, s.CR)(e, 2),
                                        n = t[0],
                                        r = t[1];
                                    r && i.searchParams.append(n, r)
                                })), e.envFetch(i.href, {
                                    method: "POST",
                                    body: JSON.stringify(n.payload),
                                    headers: {
                                        "Content-Type": "application/json"
                                    }
                                })
                            }
                        }(r, o + "/_api/app-integration-bus-web/v1/activities");
                    return {
                        getTpaHandlers: function() {
                            return {
                                postActivity: (0, Me.u)(["site"], (function(t, i, r) {
                                    var o, c = i.activity,
                                        p = r.appDefinitionId;
                                    return function(e) {
                                        return (0, s.mG)(void 0, void 0, void 0, (function() {
                                            var t, i, r, o, a, c, p;
                                            return (0, s.Jh)(this, (function(s) {
                                                switch (s.label) {
                                                    case 0:
                                                        return [4, u(e)];
                                                    case 1:
                                                        return (t = s.sent()).ok ? [3, 3] : (c = {
                                                            status: !1
                                                        }, p = {
                                                            status: t.status,
                                                            statusText: t.statusText
                                                        }, [4, t.text()]);
                                                    case 2:
                                                        return [2, (c.response = (p.responseText = s.sent(), p), c)];
                                                    case 3:
                                                        return [4, t.json()];
                                                    case 4:
                                                        return i = s.sent(), r = i.userSessionToken, o = i.activityId, a = i.contactId, r && n.setUserSession(r), [2, {
                                                            status: !0,
                                                            response: {
                                                                activityId: o,
                                                                contactId: a
                                                            }
                                                        }]
                                                }
                                            }))
                                        }))
                                    }({
                                        params: (o = {
                                            "application-id": p || "TPA",
                                            instance: n.getAppInstanceByAppDefId(p)
                                        }, (0, s.pi)({
                                            hs: n.getHubSecurityToken(),
                                            "activity-id": "xxxxxxxx".replace(/x/g, (function() {
                                                return (16 * Math.random() | 0).toString(16)
                                            })),
                                            "metasite-id": e.site.metaSiteId,
                                            svSession: n.getUserSession(),
                                            version: "1.0.0"
                                        }, o)),
                                        payload: a({
                                            contactUpdate: c.contactUpdate || {},
                                            activityInfo: c.info || {},
                                            activityType: c.type || "TPA",
                                            activityDetails: c.details || {}
                                        })
                                    })
                                }))
                            }
                        }
                    }
                })),
                Le = (0, c.ff)([xe.X], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                getCtToken: function() {
                                    return e.getCtToken()
                                },
                                getUserSession: function() {
                                    return e.getUserSession()
                                }
                            }
                        }
                    }
                })),
                Oe = n(26513),
                Ue = (0, c.ff)([be.Iz, Oe.jj, (0, c.t6)(p.R9, f.u2)], (function(e, t, n) {
                    var i = n.routersByPrefix;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getCurrentPageNavigationInfo: function() {
                                    var n = e.getRelativeUrl(),
                                        r = t.getCurrentRouteInfo(),
                                        o = r.type,
                                        a = r.pageId;
                                    if ("Static" === o) return {
                                        type: "PageLink",
                                        pageId: a
                                    };
                                    var u = (0, s.CR)(n.split("/")),
                                        c = u[1],
                                        p = u.slice(2);
                                    return {
                                        type: "DynamicPageLink",
                                        routerId: i[c].routerId,
                                        innerRoute: p.join("/") || "/"
                                    }
                                }
                            }
                        }
                    }
                })),
                _e = (0, c.ff)([u.ZQ], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                getAdsOnPage: function() {
                                    var t = e.document.getElementById("WIX_ADS");
                                    if (!t) return {};
                                    var n = t.getBoundingClientRect(),
                                        i = n.height,
                                        r = n.width,
                                        o = n.x;
                                    return {
                                        top: {
                                            height: i,
                                            width: r,
                                            top: n.y,
                                            left: o
                                        }
                                    }
                                }
                            }
                        }
                    }
                })),
                je = n(60091),
                He = n(95100),
                Ne = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2), u.Zr, Oe.jj, l.xP, je.q, d.PV, be.kc, (0, c.jt)(Se.wk), (0, c.jt)(He.Ai), (0, c.jt)(Re.HC)], (function(e, t, n, i, r, o, a, u, c, p, l) {
                    return {
                        getTpaHandlers: function() {
                            var n = this,
                                i = function(t) {
                                    void 0 === t && (t = u.getLinkUtilsRoutingInfo());
                                    var n = e.metaSiteId,
                                        i = e.userFileDomainUrl,
                                        r = e.routersConfig,
                                        o = e.isMobileView;
                                    return Ce({
                                        routingInfo: t,
                                        metaSiteId: n,
                                        userFileDomainUrl: i,
                                        routersConfig: r,
                                        popupPages: null == c ? void 0 : c.getPopupPages(),
                                        multilingualInfo: null == l ? void 0 : l.getMultilingualInfo(),
                                        isMobileView: o
                                    })
                                },
                                a = function(e) {
                                    var r = e.compId,
                                        a = e.state,
                                        c = e.skipHistory,
                                        p = e.queryParams,
                                        l = void 0 === p ? {} : p,
                                        d = e.disableScrollToTop,
                                        f = void 0 === d || d;
                                    return (0, s.mG)(n, void 0, void 0, (function() {
                                        var e, n, p, d, g, h, v, m, I;
                                        return (0, s.Jh)(this, (function(s) {
                                            switch (s.label) {
                                                case 0:
                                                    return e = u.getLinkUtilsRoutingInfo(), n = i(e), p = t.widgets, (null === (I = p[r]) || void 0 === I ? void 0 : I.isSection) ? (d = {
                                                        type: "DynamicPageLink",
                                                        routerId: e.pageId,
                                                        innerRoute: a,
                                                        isTpaRoute: !0
                                                    }, g = n.getLinkUrlFromDataItem(d), h = B().isEmpty(l) ? "" : "?appSectionParams=" + encodeURIComponent(JSON.stringify(l)), v = "" + g + h, m = n.getLinkProps(v), [4, o.navigateTo(m, {
                                                        skipHistory: c,
                                                        disableScrollToTop: f
                                                    })]) : [2];
                                                case 1:
                                                    return s.sent(), [2]
                                            }
                                        }))
                                    }))
                                };
                            return {
                                replaceSectionState: function(e, t) {
                                    var n = t.state,
                                        i = t.queryParams;
                                    return (0, s.mG)(this, void 0, Promise, (function() {
                                        return (0, s.Jh)(this, (function(t) {
                                            return [2, a({
                                                compId: e,
                                                skipHistory: !0,
                                                state: n,
                                                queryParams: i
                                            })]
                                        }))
                                    }))
                                },
                                appStateChanged: function(e, t) {
                                    var n = t.state;
                                    return (0, s.mG)(this, void 0, Promise, (function() {
                                        var t, c, l;
                                        return (0, s.Jh)(this, (function(d) {
                                            try {
                                                t = JSON.parse(n)
                                            } catch (e) {
                                                t = null
                                            }
                                            return c = function(t) {
                                                var n = r.get(e).onItemClicked;
                                                n && n({
                                                    type: "itemClicked",
                                                    itemIndex: t,
                                                    item: r.get(e).images[t]
                                                })
                                            }, t ? ((l = {
                                                zoom: function() {
                                                    var n = (0, s.CR)(t.args, 1)[0],
                                                        i = r.get(e).images[n].id;
                                                    p.openImageZoom(e, i), c(n)
                                                },
                                                itemClicked: function() {
                                                    var e = (0, s.CR)(t.args, 1)[0];
                                                    c(e)
                                                },
                                                itemChanged: function() {
                                                    var n = (0, s.CR)(t.args, 1)[0],
                                                        i = r.get(e).onCurrentItemChanged;
                                                    i && i({
                                                        type: "imageChanged",
                                                        itemIndex: n,
                                                        item: r.get(e).images[n]
                                                    })
                                                },
                                                componentReady: function() {
                                                    var t;
                                                    r.update(((t = {})[e] = {
                                                        componentReady: !0
                                                    }, t))
                                                },
                                                navigateToDynamicPage: function() {
                                                    var e = (0, s.CR)(t.args, 1)[0],
                                                        n = i(),
                                                        r = function(e) {
                                                            return !e.id && !!(e.href || e.linkPopupId || e.anchorDataId || e.anchorCompId)
                                                        }(e) ? e : n.getLinkProps(n.getLinkUrlFromDataItem(e));
                                                    o.navigateTo(r)
                                                },
                                                navigateToAnchor: function() {
                                                    var e = (0, s.CR)(t.args, 2),
                                                        n = e[0],
                                                        r = e[1],
                                                        a = {
                                                            type: "PageLink",
                                                            pageId: "masterPage" === n ? u.getLinkUtilsRoutingInfo().pageId : n,
                                                            target: "_self"
                                                        },
                                                        c = i(),
                                                        p = c.getLinkUrlFromDataItem(a),
                                                        l = c.getLinkProps(p),
                                                        d = Object.assign(l, r);
                                                    o.navigateTo(d)
                                                }
                                            }[t.cmd]) && l(), [2]) : [2, a({
                                                compId: e,
                                                skipHistory: !1,
                                                state: n
                                            })]
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                Be = n(58629),
                Fe = n(10666),
                Ge = n(42473),
                Ve = (0, c.ff)([(0, c.t6)(p.R9, f.u2), Be.s, Oe.jj, (0, c.jt)(Ge.R1), (0, c.jt)(Fe.$)], (function(e, t, n, i, r) {
                    var o = e.debug;
                    return {
                        getTpaHandlers: function() {
                            return {
                                applicationLoadingStep: function(e, a, u) {
                                    var s = u.appDefinitionId,
                                        c = u.tpaCompData,
                                        p = (void 0 === c ? {} : c).widgetId;
                                    if (v(e)) o && console.warn("applicationLoadingStep is ignored in runtime component " + e);
                                    else {
                                        var l = n.getCurrentRouteInfo(),
                                            d = Date.now() - t.initialRequestTimestamp,
                                            f = a.stage,
                                            g = a.stageNum;
                                        null == r || r.logger.log({
                                            appId: s,
                                            widget_id: p,
                                            instance_id: e,
                                            src: 42,
                                            evid: 644,
                                            tts: d,
                                            pid: l ? l.pageId : null,
                                            stage: f,
                                            stageNum: g,
                                            pn: i.getPageNumber()
                                        }, {
                                            endpoint: "ugc-viewer"
                                        })
                                    }
                                }
                            }
                        }
                    }
                })),
                ze = (0, c.ff)([(0, c.t6)(p.R9, f.u2), Be.s, Oe.jj, (0, c.jt)(Ge.R1), (0, c.jt)(Fe.$)], (function(e, t, n, i, r) {
                    var o = e.debug;
                    return {
                        getTpaHandlers: function() {
                            return {
                                applicationLoaded: function(e, a, u) {
                                    var s = u.appDefinitionId,
                                        c = u.tpaCompData,
                                        p = (void 0 === c ? {} : c).widgetId;
                                    if (v(e)) o && console.warn("applicationLoaded is ignored in runtime component " + e);
                                    else {
                                        var l = n.getCurrentRouteInfo(),
                                            d = Date.now() - t.initialRequestTimestamp;
                                        null == r || r.logger.log({
                                            appId: s,
                                            widget_id: p,
                                            instance_id: e,
                                            src: 42,
                                            evid: 643,
                                            tts: d,
                                            pid: l ? l.pageId : null,
                                            pn: i.getPageNumber()
                                        }, {
                                            endpoint: "ugc-viewer"
                                        })
                                    }
                                }
                            }
                        }
                    }
                })),
                We = n(2811),
                Je = (0, c.ff)([We.n9, d.PV], (function(e, t) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                refreshCurrentMember: function() {
                                    return (0, s.mG)(this, void 0, Promise, (function() {
                                        var n;
                                        return (0, s.Jh)(this, (function(i) {
                                            switch (i.label) {
                                                case 0:
                                                    return [4, e.getMemberDetails(!0)];
                                                case 1:
                                                    return (n = i.sent()) && t.dispatch("MEMBER_DETAILS_UPDATED", (function() {
                                                        return n
                                                    })), [2]
                                            }
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                $e = (0, c.ff)([d.jn, d.R3], (function(e, t) {
                    var n = e.openPopup,
                        i = function(e) {
                            if (t.isModal(e)) {
                                var n = new Error("An app can not open a popup from a modal.");
                                return n.name = "Operation not supported", n
                            }
                            return null
                        };
                    return {
                        getTpaHandlers: function() {
                            return {
                                openPopup: (0, Me.u)(["site", "preview"], (function(e, t, r) {
                                    var o = r.originCompId,
                                        a = t.url,
                                        u = (0, s._T)(t, ["url"]),
                                        c = i(e);
                                    return c ? Promise.reject(c) : n(a, u, o)
                                })),
                                openPersistentPopup: (0, Me.u)(["site", "preview"], (function(e, t, r) {
                                    var o = r.originCompId,
                                        a = t.url,
                                        u = (0, s._T)(t, ["url"]),
                                        c = i(e);
                                    return c ? Promise.reject(c) : n(a, (0, s.pi)((0, s.pi)({}, u), {
                                        persistent: !0
                                    }), o)
                                }))
                            }
                        }
                    }
                })),
                Ze = (0, c.ff)([xe.X], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                getAppVendorProductId: function(t, n) {
                                    var i, r, o = n.appDefinitionId,
                                        a = null === (i = e.getAppInstanceByAppDefId(o)) || void 0 === i ? void 0 : i.replace(/^[^.]+./, "");
                                    return a && (null === (r = JSON.parse(atob(a))) || void 0 === r ? void 0 : r.vendorProductId) || null
                                }
                            }
                        }
                    }
                })),
                Qe = n(8562),
                Xe = function(e) {
                    return B().isNumber(e) ? e : NaN
                },
                Ke = function(e) {
                    return B().parseInt((e || "").toString().split("px")[0])
                },
                qe = function(e) {
                    var t, n = {
                        size: 0,
                        unit: ""
                    };
                    return B().isNumber(e) ? n.size = e : B().isString(e) && (n.unit = (t = /(%)$/.exec(e)) && t[1] ? t[1] : "", n.size = function(e) {
                        var t = /^([0-9]+)/.exec(e);
                        return t && t[1] ? parseInt(t[1], 10) : 0
                    }(e)), n
                },
                Ye = function(e, t) {
                    var n = e.width;
                    return "100%" === e.height && ("100%" === n || Number(Ke(n)) >= t.innerWidth)
                },
                et = function(e, t, n) {
                    var i = (0, Qe.yF)(t) ? null : t.document.getElementById(n),
                        r = i ? i.getBoundingClientRect() : null,
                        o = {
                            left: r ? r.left + t.pageXOffset : 0,
                            top: r ? r.top + t.pageYOffset : 0,
                            width: r ? Math.round(r.width) : 0,
                            height: r ? Math.round(r.height) : 0,
                            actualTop: r ? r.top : 0,
                            actualLeft: r ? r.left : 0
                        },
                        a = B().defaults(e.position, {
                            x: 0,
                            y: 0,
                            origin: "FIXED",
                            placement: "CENTER"
                        }),
                        u = B().pick(e, "height", "width"),
                        c = {
                            width: (0, Qe.yF)(t) ? 0 : t.innerWidth,
                            height: (0, Qe.yF)(t) ? 0 : t.innerHeight
                        };
                    return function(e, t, n) {
                        if (Ke(e.width) < 10 || Ke(e.height) < 10) {
                            var i = qe(n.height);
                            i.size = "%" === i.unit ? B().min([i.size, 100]) : B().min([i.size, t.height]);
                            var r = qe(n.width);
                            return r.size = "%" === r.unit ? B().min([r.size, 100]) : B().min([r.size, t.height]), {
                                position: "fixed",
                                display: "block",
                                width: "" + r.size + (r.unit || "px"),
                                height: "" + i.size + (i.unit || "px"),
                                marginLeft: "" + r.size / -2 + (r.unit || "px"),
                                marginTop: "" + i.size / -2 + (i.unit || "px"),
                                left: "50%",
                                top: "50%"
                            }
                        }
                        return e
                    }({
                        RELATIVE: function() {
                            return function(e, t, n, i) {
                                var r = function(e, t, n) {
                                        return e + t / 2 - n / 2
                                    },
                                    o = function(e, t, n) {
                                        return e - (t + n)
                                    },
                                    a = function(e, t, n) {
                                        return e - (t + n)
                                    },
                                    u = function(e, t, n) {
                                        return e + t / 2 - n / 2
                                    },
                                    c = Xe(i.height),
                                    p = Xe(i.width),
                                    l = {
                                        CENTER: function() {
                                            return {
                                                height: B().min([c, n.height]),
                                                width: B().min([p, n.width]),
                                                top: u(t.top, t.height, c),
                                                left: r(t.left, t.width, p)
                                            }
                                        },
                                        TOP_LEFT: function() {
                                            return {
                                                height: B().min([c, t.top]),
                                                width: B().min([p, t.left]),
                                                top: t.top - c,
                                                left: t.left - p
                                            }
                                        },
                                        TOP_RIGHT: function() {
                                            return {
                                                height: B().min([c, t.top]),
                                                width: B().min([p, a(n.width, t.width, t.left)]),
                                                top: t.top - c,
                                                left: t.width + t.left
                                            }
                                        },
                                        TOP_CENTER: function() {
                                            return {
                                                height: B().min([c, t.top]),
                                                width: B().min([p, n.width]),
                                                top: t.top - c,
                                                left: r(t.left, t.width, p)
                                            }
                                        },
                                        CENTER_RIGHT: function() {
                                            return {
                                                height: B().min([c, n.height]),
                                                width: B().min([p, a(n.width, t.width, t.left)]),
                                                top: u(t.top, t.height, c),
                                                left: t.width + t.left
                                            }
                                        },
                                        CENTER_LEFT: function() {
                                            return {
                                                height: B().min([c, n.height]),
                                                width: B().min([p, t.left]),
                                                top: u(t.top, t.height, c),
                                                left: t.left - p
                                            }
                                        },
                                        BOTTOM_LEFT: function() {
                                            return {
                                                height: B().min([c, o(n.height, t.top, t.height)]),
                                                width: B().min([p, t.left]),
                                                top: t.top + t.height,
                                                left: t.left - p
                                            }
                                        },
                                        BOTTOM_RIGHT: function() {
                                            return {
                                                height: B().min([c, o(n.height, t.top, t.height)]),
                                                width: B().min([p, a(n.width, t.width, t.left)]),
                                                top: t.top + t.height,
                                                left: t.width + t.left
                                            }
                                        },
                                        BOTTOM_CENTER: function() {
                                            return {
                                                height: B().min([c, o(n.height, t.top, t.height)]),
                                                width: B().min([p, n.width]),
                                                top: t.top + t.height,
                                                left: r(t.left, t.width, p)
                                            }
                                        }
                                    }[e.placement](),
                                    d = B().max([0, l.top]),
                                    f = B().max([0, l.left]);
                                return (0, s.pi)((0, s.pi)((0, s.pi)({}, {
                                    position: "absolute",
                                    display: "block",
                                    width: 0,
                                    height: 0
                                }), l), {
                                    top: d,
                                    left: f
                                })
                            }(a, o, c, u)
                        },
                        ABSOLUTE: function() {
                            return function(e, t, n, i) {
                                var r = Xe(i.height),
                                    o = Xe(i.width),
                                    a = {
                                        CENTER: function() {
                                            var i = B().min([t.actualTop + e.y, n.height - (t.actualTop + e.y)]),
                                                a = B().min([t.actualLeft + e.x, n.width - (t.actualLeft + e.x)]);
                                            return {
                                                height: B().min([r, 2 * i]),
                                                width: B().min([o, 2 * a]),
                                                top: t.top + e.y - r / 2,
                                                left: t.left + e.x - o / 2
                                            }
                                        },
                                        TOP_LEFT: function() {
                                            return {
                                                height: B().min([r, t.actualTop + e.y]),
                                                width: B().min([o, t.actualLeft + e.x]),
                                                top: t.top + e.y - r,
                                                left: t.left + e.x - o
                                            }
                                        },
                                        TOP_RIGHT: function() {
                                            return {
                                                height: B().min([r, t.actualTop + e.y]),
                                                width: B().min([o, n.width - (t.actualLeft + e.x)]),
                                                top: t.top + e.y - r,
                                                left: t.left + e.x
                                            }
                                        },
                                        TOP_CENTER: function() {
                                            var i = B().min([t.actualLeft + e.x, n.width - (t.actualLeft + e.x)]);
                                            return {
                                                height: B().min([r, t.actualTop + e.y]),
                                                width: B().min([o, 2 * i]),
                                                top: t.top + e.y - r,
                                                left: t.left + e.x - o / 2
                                            }
                                        },
                                        CENTER_RIGHT: function() {
                                            var i = B().min([t.actualTop + e.y, n.height - (t.actualTop + e.y)]);
                                            return {
                                                height: B().min([r, 2 * i]),
                                                width: B().min([o, n.width - (t.actualLeft + e.x)]),
                                                top: t.top + e.y - r / 2,
                                                left: t.left + e.x
                                            }
                                        },
                                        CENTER_LEFT: function() {
                                            var i = B().min([t.actualTop + e.y, n.height - (t.actualTop + e.y)]);
                                            return {
                                                height: B().min([r, 2 * i]),
                                                width: B().min([o, t.actualLeft + e.x]),
                                                top: t.top + e.y - r / 2,
                                                left: t.left + e.x - o
                                            }
                                        },
                                        BOTTOM_LEFT: function() {
                                            return {
                                                height: B().min([r, n.height - (t.actualTop + e.y)]),
                                                width: B().min([o, t.actualLeft + e.x]),
                                                top: t.top + e.y,
                                                left: t.left + e.x - o
                                            }
                                        },
                                        BOTTOM_RIGHT: function() {
                                            return {
                                                height: B().min([r, n.height - (t.actualTop + e.y)]),
                                                width: B().min([o, n.width - (t.actualLeft + e.x)]),
                                                top: t.top + e.y,
                                                left: t.left + e.x
                                            }
                                        },
                                        BOTTOM_CENTER: function() {
                                            var i = B().min([t.actualLeft + e.x, n.width - (t.actualLeft + e.x)]);
                                            return {
                                                height: B().min([r, n.height - (t.actualTop + e.y)]),
                                                width: B().min([o, 2 * i]),
                                                top: t.top + e.y,
                                                left: t.left + e.x - o / 2
                                            }
                                        }
                                    }[e.placement](),
                                    u = B().max([0, a.top]),
                                    c = B().max([0, a.left]);
                                return (0, s.pi)((0, s.pi)((0, s.pi)({}, {
                                    position: "absolute",
                                    display: "block",
                                    width: 0,
                                    height: 0
                                }), a), {
                                    top: u,
                                    left: c
                                })
                            }(a, o, c, u)
                        },
                        FIXED: function() {
                            return function(e, t, n) {
                                var i = {
                                        position: "fixed",
                                        display: "block",
                                        width: n.width,
                                        height: n.height
                                    },
                                    r = qe(n.height);
                                "%" === r.unit ? r.size = B().min([r.size, 100]) : r.size > t.height && (r.unit = "%", r.size = 100);
                                var o = qe(n.width);
                                o.size = "%" === o.unit ? B().min([o.size, 100]) : B().min([o.size, t.width]);
                                var a = {
                                    CENTER: function() {
                                        return {
                                            marginLeft: o.size / -2 + (o.unit || "px"),
                                            marginTop: "%" === r.unit ? 0 : r.size / -2 + (r.unit || "px"),
                                            left: "50%",
                                            top: "%" === r.unit ? 0 : "50%"
                                        }
                                    },
                                    TOP_LEFT: function() {
                                        return {
                                            left: "0px",
                                            top: "0px"
                                        }
                                    },
                                    TOP_RIGHT: function() {
                                        return {
                                            right: "0px",
                                            top: "0px"
                                        }
                                    },
                                    TOP_CENTER: function() {
                                        return {
                                            marginLeft: o.size / -2 + (o.unit || "px"),
                                            top: "0px",
                                            left: "50%"
                                        }
                                    },
                                    CENTER_RIGHT: function() {
                                        return {
                                            marginTop: "%" === r.unit ? 0 : r.size / -2 + (r.unit || "px"),
                                            top: "%" === r.unit ? 0 : "50%",
                                            right: "0px"
                                        }
                                    },
                                    CENTER_LEFT: function() {
                                        return {
                                            marginTop: "%" === r.unit ? 0 : r.size / -2 + (r.unit || "px"),
                                            top: "%" === r.unit ? 0 : "50%",
                                            left: "0px"
                                        }
                                    },
                                    BOTTOM_LEFT: function() {
                                        return {
                                            bottom: "0px",
                                            left: "0px"
                                        }
                                    },
                                    BOTTOM_RIGHT: function() {
                                        return {
                                            bottom: "0px",
                                            right: "0px"
                                        }
                                    },
                                    BOTTOM_CENTER: function() {
                                        return {
                                            marginLeft: o.size / -2 + (o.unit || "px"),
                                            left: "50%",
                                            bottom: "0px"
                                        }
                                    }
                                };
                                return i.width = o.size + (o.unit || "px"), i.height = r.size + (r.unit || "px"), (0, s.pi)((0, s.pi)({}, i), a[e.placement]())
                            }(a, c, u)
                        }
                    }[a.origin](), c, u)
                },
                tt = n(87821),
                nt = (0, c.ff)([l.xP, u.ZQ, tt.x, (0, c.t6)(p.R9, f.u2), d.R3], (function(e, t, n, i, r) {
                    var o = function(o, a) {
                        var u, c = e.get(o),
                            p = c.options,
                            l = c.originCompId,
                            d = (0, s.pi)((0, s.pi)({}, p), a),
                            f = r.isModal(o) ? function(e) {
                                return ["height", "width"].reduce((function(t, n) {
                                    var i = e[n];
                                    if (!B().isNil(i)) {
                                        var r = qe(i),
                                            o = r.unit,
                                            a = r.size;
                                        o || (t[n] = a)
                                    }
                                    return t
                                }), {})
                            }(a) : et(d, t, l);
                        e.update(((u = {})[o] = {
                            styleOverrides: f
                        }, u)), n.setSiteScrollingBlocked(i.isMobileView && Ye(f, t), o)
                    };
                    return {
                        getTpaHandlers: function() {
                            return {
                                resizeWindow: function(t, n, i) {
                                    var r = i.tpaCompData;
                                    return (0, s.mG)(this, void 0, Promise, (function() {
                                        var i;
                                        return (0, s.Jh)(this, (function(a) {
                                            return v(t) ? o(t, n) : (null == r ? void 0 : r.isPinned) && e.update(((i = {})[t] = {
                                                styleOverrides: {
                                                    width: B().isNumber(n.width) ? n.width + "px" : n.width,
                                                    height: B().isNumber(n.height) ? n.height + "px" : n.height
                                                }
                                            }, i)), [2]
                                        }))
                                    }))
                                },
                                heightChanged: function(t, n) {
                                    var i;
                                    v(t) ? o(t, {
                                        height: n.height
                                    }) : e.update(((i = {})[t] = {
                                        heightOverride: n.height,
                                        heightOverflow: Boolean(n.overflow)
                                    }, i))
                                }
                            }
                        }
                    }
                })),
                it = (0, c.ff)([], (function() {
                    return {
                        getTpaHandlers: function() {
                            return {
                                onReady: function() {
                                    return Promise.resolve()
                                }
                            }
                        }
                    }
                })),
                rt = n(26064),
                ot = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2), (0, c.t6)(p.jC, d.u2), je.q, be.kc, f.B_, (0, c.jt)(Se.wk), (0, c.jt)(Re.HC), (0, c.jt)(rt.M$), (0, c.jt)(_.d)], (function(e, t, i, r, o, a, u, c, p, l) {
                    var d = a.getTpaSectionByAppDefinitionId;
                    return {
                        getTpaHandlers: function() {
                            return {
                                navigateToSectionPage: function(a, f, g) {
                                    var h, v = g.originCompId,
                                        m = g.appDefinitionId;
                                    return (0, s.mG)(this, void 0, void 0, (function() {
                                        var a, g, I, P, T, w, C, b, S, R, E, D, A, x, M, k, L, O, U, _, j, H, N, F, G, V, z, W, J, $, Z, Q, X, K, q, Y = this;
                                        return (0, s.Jh)(this, (function(ee) {
                                            switch (ee.label) {
                                                case 0:
                                                    return a = e.metaSiteId, g = e.userFileDomainUrl, I = e.routersConfig, P = e.appsClientSpecMapData, T = e.appsClientSpecMapByApplicationId, w = e.isMobileView, C = Object.entries(i.pagesData), b = C.reduce((function(e, t) {
                                                        var n = (0, s.CR)(t, 2),
                                                            i = n[0],
                                                            r = n[1];
                                                        return e[r.tpaApplicationId] || (e[r.tpaApplicationId] = {}), e[r.tpaApplicationId][r.tpaPageId] = i, e
                                                    }), {}), S = B()(i.pagesData).groupBy("tpaApplicationId").mapValues((function(e) {
                                                        return e.map((function(e) {
                                                            return e.id
                                                        }))
                                                    })).value(), R = function(e) {
                                                        return (0, s.mG)(Y, void 0, Promise, (function() {
                                                            var t, i, r, o, a, u, c, p;
                                                            return (0, s.Jh)(this, (function(s) {
                                                                switch (s.label) {
                                                                    case 0:
                                                                        return (t = null == l ? void 0 : l.urlMappings) ? [4, n.e(7482).then(n.bind(n, 35755))] : [3, 2];
                                                                    case 1:
                                                                        if (i = s.sent().buildCustomizedUrl, r = (null === (p = null === (c = null == e ? void 0 : e.sectionIdentifier) || void 0 === c ? void 0 : c.customizeTarget) || void 0 === p ? void 0 : p.customUrlData) || {}, o = r.key, a = r.variables, u = r.options, o && a) return [2, i(t, o, a, u)];
                                                                        s.label = 2;
                                                                    case 2:
                                                                        return [2]
                                                                }
                                                            }))
                                                        }))
                                                    }, E = Ce({
                                                        routingInfo: o.getLinkUtilsRoutingInfo(),
                                                        metaSiteId: a,
                                                        userFileDomainUrl: g,
                                                        routersConfig: I,
                                                        popupPages: null == u ? void 0 : u.getPopupPages(),
                                                        multilingualInfo: null == c ? void 0 : c.getMultilingualInfo(),
                                                        isMobileView: w
                                                    }), D = f.sectionIdentifier, x = (A = void 0 === D ? {} : D).sectionId, M = A.noTransition, k = void 0 !== M && M, L = A.appDefinitionId, O = A.queryParams, U = void 0 === O ? {} : O, _ = A.state, j = f.state, H = j || _, N = function(e) {
                                                        return t.widgets[e].applicationId
                                                    }, F = function(e) {
                                                        return P[e].applicationId
                                                    }, G = L ? F(L) : N(v), (V = T[G]) ? (z = S[G]) && 0 !== z.length ? (W = x ? b[G][x] : null, x && !W ? [2, {
                                                        error: {
                                                            message: 'App page with sectionId "' + x + '" was not found.'
                                                        }
                                                    }] : (J = W || z[0], $ = {
                                                        type: "DynamicPageLink",
                                                        routerId: J,
                                                        innerRoute: H,
                                                        isTpaRoute: !0
                                                    }, [4, R(f)])) : [2, {
                                                        error: {
                                                            message: 'Page with app "' + V.appDefinitionName + '" was not found.'
                                                        }
                                                    }] : L ? [2, {
                                                        error: {
                                                            message: "Component was not found."
                                                        }
                                                    }] : [2, {
                                                        error: {
                                                            message: 'Application with appDefinitionId "' + L + '" was not found on the site.'
                                                        }
                                                    }];
                                                case 1:
                                                    return Z = ee.sent() || E.getLinkUrlFromDataItem($), E.isDynamicPage(Z) ? [2, {
                                                        error: {
                                                            message: "Can't navigate to a dynamic page. Please use the platform app API instead."
                                                        }
                                                    }] : (Q = B().isEmpty(U) ? "" : "?appSectionParams=" + encodeURIComponent(JSON.stringify(U)), X = "" + Z + Q, K = E.getLinkProps(X), k && p && p.disableNextTransition(), [4, r.navigateTo(K)]);
                                                case 2:
                                                    if (!ee.sent()) {
                                                        if (console.warn("You have invoked the navigateToSectionPage() API but you are already on the section page. Please use the pushState() API instead."), !1 === (null === (h = f.sectionIdentifier) || void 0 === h ? void 0 : h.shouldRefreshIframe)) return [2, y];
                                                        (q = d(L || m)) && q.rebuildSrc()
                                                    }
                                                    return [2, y]
                                            }
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                at = (0, c.ff)([u.ZQ, (0, c.t6)(p.$e, d.u2)], (function(e, t) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                boundingRectAndOffsets: function(n) {
                                    var i = {
                                            offsets: {
                                                x: 0,
                                                y: 0
                                            },
                                            rect: {
                                                left: 0,
                                                right: 0,
                                                top: 0,
                                                bottom: 0,
                                                height: 0,
                                                width: 0
                                            },
                                            scale: t.siteScale
                                        },
                                        r = e.document.getElementById(n);
                                    if (!r) return i;
                                    var o = function() {
                                            if (!t.isFixedHeader) return 0;
                                            var n = e.document.getElementById("SITE_HEADER");
                                            return n && n.getBoundingClientRect().height || 0
                                        }(),
                                        a = r.getBoundingClientRect();
                                    return i.offsets = {
                                        x: a.left + e.scrollX,
                                        y: a.top + e.scrollY - o
                                    }, i.rect = B()(a).pick(["left", "right", "top", "bottom", "height", "width"]).mapValues((function(e) {
                                        return Math.floor(e)
                                    })).value(), i.rect.top -= o, i
                                }
                            }
                        }
                    }
                })),
                ut = n(21924),
                st = (0, c.ff)([(0, c.t6)(p.$e, d.u2), ut.QJ, u.EE], (function(e, t, n) {
                    var i = e.widgets;
                    return {
                        getTpaHandlers: function() {
                            var e = this;
                            return {
                                setPageMetadata: (0, Me.u)(["site"], (function(r, o, a) {
                                    var u = a.originCompId;
                                    return (0, s.mG)(e, void 0, Promise, (function() {
                                        var e;
                                        return (0, s.Jh)(this, (function(r) {
                                            switch (r.label) {
                                                case 0:
                                                    return i[u] && i[u].isSection ? [4, t.setTPAOverrides(o)] : [3, 3];
                                                case 1:
                                                    return r.sent(), [4, t.renderSEO()];
                                                case 2:
                                                    return r.sent(), [3, 4];
                                                case 3:
                                                    return e = "Setting a page meta data is possible only to TPA Sections and MultiSections", n.captureError(new Error(e), {
                                                        tags: {
                                                            feature: "tpa"
                                                        }
                                                    }), [2, {
                                                        error: {
                                                            message: e
                                                        }
                                                    }];
                                                case 4:
                                                    return [2, null]
                                            }
                                        }))
                                    }))
                                }))
                            }
                        }
                    }
                })),
                ct = (0, c.ff)([d.R3], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                openModal: (0, Me.u)(["site", "preview"], (function(t, n) {
                                    var i = n.url,
                                        r = n.theme,
                                        o = n.height,
                                        a = n.width;
                                    return e.openModal(i, {
                                        width: a,
                                        height: o,
                                        theme: r
                                    }, t)
                                }))
                            }
                        }
                    }
                })),
                pt = (0, c.ff)([(0, c.t6)(p.R9, f.u2), je.q, be.kc, l.QZ, (0, c.jt)(Se.wk), (0, c.jt)(Re.HC), (0, c.jt)(rt.M$)], (function(e, t, n, i, r, o, a) {
                    var u = function(t) {
                            var i = e.metaSiteId,
                                a = e.userFileDomainUrl,
                                u = e.routersConfig,
                                s = e.isMobileView,
                                c = Ce({
                                    routingInfo: n.getLinkUtilsRoutingInfo(),
                                    metaSiteId: i,
                                    userFileDomainUrl: a,
                                    routersConfig: u,
                                    popupPages: null == r ? void 0 : r.getPopupPages(),
                                    multilingualInfo: null == o ? void 0 : o.getMultilingualInfo(),
                                    isMobileView: s
                                }),
                                p = c.getLinkUrlFromDataItem(t);
                            return c.getLinkProps(p)
                        },
                        c = function(e) {
                            var i = e.pageId,
                                r = e.anchorId,
                                o = e.noTransition,
                                s = function(e) {
                                    var t = e.pageId,
                                        i = e.anchorId,
                                        r = u({
                                            type: "PageLink",
                                            pageId: t,
                                            target: "_self"
                                        });
                                    return i && (n.getLinkUtilsRoutingInfo().pageId === t ? r.anchorCompId = i : r.anchorDataId = i), r
                                }({
                                    pageId: i,
                                    anchorId: r
                                });
                            return o && a && a.disableNextTransition(), t.navigateTo(s)
                        };
                    return {
                        getTpaHandlers: function() {
                            return {
                                navigateToPage: function(e, t) {
                                    var n = t.pageId,
                                        i = t.anchorId,
                                        r = t.noTransition;
                                    c({
                                        pageId: n,
                                        anchorId: i,
                                        noTransition: r
                                    })
                                },
                                navigateTo: function(e, n) {
                                    var i = n.link;
                                    if (i.type !== C) {
                                        var r = u(i);
                                        t.navigateTo(r)
                                    }
                                },
                                navigateToAnchor: function(e, t) {
                                    var i = t.anchorId;
                                    return (0, s.mG)(this, void 0, void 0, (function() {
                                        return (0, s.Jh)(this, (function(e) {
                                            switch (e.label) {
                                                case 0:
                                                    return [4, c({
                                                        pageId: n.getLinkUtilsRoutingInfo().pageId,
                                                        anchorId: i
                                                    })];
                                                case 1:
                                                    if (!e.sent()) throw new Error('anchor with id "' + i + '" was not found on the current page.');
                                                    return [2, y]
                                            }
                                        }))
                                    }))
                                },
                                navigateToComponent: function(e, t) {
                                    var i = t.compId,
                                        r = t.pageId,
                                        o = t.noPageTransition;
                                    return (0, s.mG)(this, void 0, void 0, (function() {
                                        var e;
                                        return (0, s.Jh)(this, (function(t) {
                                            switch (t.label) {
                                                case 0:
                                                    return e = r || n.getLinkUtilsRoutingInfo().pageId, [4, c({
                                                        pageId: e,
                                                        anchorId: i,
                                                        noTransition: o
                                                    })];
                                                case 1:
                                                    if (!t.sent()) throw new Error('Page id "' + e + '" does not contain the component id "' + i + '".');
                                                    return [2, y]
                                            }
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                lt = (0, c.ff)([(0, c.t6)(p.R9, f.u2)], (function(e) {
                    var t = e.appsClientSpecMapData;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getApplicationFields: function(e, n) {
                                    var i = n.appDefinitionId;
                                    return t[i].appFields
                                }
                            }
                        }
                    }
                })),
                dt = n(21568),
                ft = n(12073),
                gt = (0, c.ff)([dt.H, d.PV], (function(e, t) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                removeEventListener: function(n, i, r) {
                                    var o = i.eventKey,
                                        a = r.appDefinitionId;
                                    o.startsWith(ft.$E) ? e.unsubscribe(a, n, o) : t.unregister(o, n)
                                }
                            }
                        }
                    }
                })),
                ht = (0, c.ff)([dt.H], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                publish: function(t, n, i) {
                                    var r = i.appDefinitionId;
                                    e.publish(r, t, n)
                                }
                            }
                        }
                    }
                })),
                vt = (0, c.ff)([xe.X, d.PV], (function(e, t) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                revalidateSession: function(n, i, r) {
                                    var o = r.appDefinitionId;
                                    return (0, s.mG)(this, void 0, Promise, (function() {
                                        var n;
                                        return (0, s.Jh)(this, (function(i) {
                                            switch (i.label) {
                                                case 0:
                                                    return [4, e.loadNewSession()];
                                                case 1:
                                                    return i.sent(), n = {
                                                        instance: e.getAppInstanceByAppDefId(o)
                                                    }, t.dispatch("INSTANCE_CHANGED", (function() {
                                                        return n
                                                    }), {
                                                        appDefinitionId: o
                                                    }), [2, n]
                                            }
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                mt = n(24548),
                It = n(46466),
                Pt = (0, c.ff)([(0, c.t6)(p.jC, d.u2), (0, c.t6)(p.$e, d.u2), It.p, l.xP, mt.i], (function(e, t, n, i, r) {
                    var o = t.widgets,
                        a = r.getFontsConfig;
                    return {
                        getTpaHandlers: function() {
                            return {
                                appIsAlive: function(t, r, u) {
                                    var c, p = u.originCompId,
                                        l = e.siteColors,
                                        d = e.isVisualFocusEnabled,
                                        f = e.siteTextPresets;
                                    i.update(((c = {})[t] = {
                                        sentAppIsAlive: !0
                                    }, c));
                                    var g = o[p] || {
                                        style: {
                                            colors: {},
                                            numbers: {},
                                            booleans: {},
                                            fonts: {},
                                            googleFontsCssUrl: "",
                                            uploadFontFaces: ""
                                        }
                                    };
                                    return (0, s.pi)({
                                        fonts: a(),
                                        commonConfig: n.getCommonConfig(),
                                        isVisualFocusEnabled: d,
                                        siteColors: l,
                                        siteTextPresets: f
                                    }, g)
                                }
                            }
                        }
                    }
                })),
                yt = (0, c.ff)([d.PV, dt.H], (function(e, t) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                registerEventListener: function(n, i, r) {
                                    var o = i.eventKey,
                                        a = i.receivePastEvents,
                                        u = void 0 !== a && a,
                                        s = r.callId,
                                        c = r.tpa,
                                        p = r.tpaCompData,
                                        l = (void 0 === p ? {} : p).widgetId,
                                        d = void 0 === l ? "" : l,
                                        f = r.appDefinitionId;
                                    if (o.startsWith(ft.$E)) t.handleIframeSubscribe(f, n, {
                                        eventKey: o,
                                        isPersistent: u,
                                        callId: s
                                    });
                                    else {
                                        e.register(o, n, (function(e, t) {
                                            c.postMessage(JSON.stringify({
                                                intent: "addEventListener",
                                                eventType: e,
                                                params: t
                                            }), "*")
                                        }), {
                                            widgetId: d,
                                            appDefinitionId: f
                                        })
                                    }
                                }
                            }
                        }
                    }
                })),
                Tt = (0, c.ff)([d.R3, d.jn], (function(e, t) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                closeWindow: function(n, i) {
                                    return function(e) {
                                        var t = e.tpaModal,
                                            n = e.tpaPopup,
                                            i = e.compId,
                                            r = void 0 === i ? "" : i,
                                            o = e.onCloseMessage;
                                        n.isPopup(r) ? n.closePopup(r, o) : t.closeModal(o)
                                    }({
                                        tpaModal: e,
                                        tpaPopup: t,
                                        compId: n,
                                        onCloseMessage: i
                                    })
                                }
                            }
                        }
                    }
                })),
                wt = (0, c.ff)([Oe.jj], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                getCurrentPageId: function() {
                                    return e.getCurrentRouteInfo().pageId
                                }
                            }
                        }
                    }
                })),
                Ct = n(11717),
                bt = (0, c.ff)([u.ZQ, (0, c.jt)(Ct.FK)], (function(e, t) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                scrollTo: function(n, i) {
                                    var r = i.x,
                                        o = i.y,
                                        a = i.scrollAnimation;
                                    return (0, s.mG)(this, void 0, void 0, (function() {
                                        var n, i;
                                        return (0, s.Jh)(this, (function(u) {
                                            switch (u.label) {
                                                case 0:
                                                    return t ? a ? (n = 1, i = 0, [4, t.getInstance()]) : [3, 2] : [2];
                                                case 1:
                                                    return u.sent().runAnimationOnElements("BaseScroll", [e], n, i, {
                                                        y: o,
                                                        x: r,
                                                        callbacks: {
                                                            onComplete: function() {
                                                                return Promise.resolve()
                                                            }
                                                        }
                                                    }), [3, 3];
                                                case 2:
                                                    e.scrollTo(r, o), u.label = 3;
                                                case 3:
                                                    return [2]
                                            }
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                St = (0, c.ff)([u.ZQ], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                scrollBy: function(t, n) {
                                    var i = n.x,
                                        r = n.y;
                                    e.scrollBy(i, r)
                                }
                            }
                        }
                    }
                })),
                Rt = (0, c.ff)([(0, c.t6)(p.$e, d.u2)], (function(e) {
                    var t = e.widgets;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getExternalId: function(e, n, i) {
                                    var r = i.originCompId;
                                    return Promise.resolve(t[r].externalId)
                                }
                            }
                        }
                    }
                })),
                Et = (0, c.ff)([(0, c.t6)(p.$e, d.u2)], (function(e) {
                    var t = e.widgets,
                        n = e.appPublicData;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getValue: function(e, i, r) {
                                    var o, a = i.key,
                                        u = i.scope,
                                        s = r.originCompId,
                                        c = t[s].applicationId,
                                        p = "APP" === u ? n[c] : t[s].componentPublicData;
                                    return p && p[a] ? ((o = {})[a] = p[a], o) : {
                                        error: {
                                            message: "key " + a + " not found in " + u + " scope"
                                        }
                                    }
                                }
                            }
                        }
                    }
                })),
                Dt = (0, c.ff)([(0, c.t6)(p.$e, d.u2)], (function(e) {
                    var t = e.widgets,
                        n = e.appPublicData;
                    return {
                        getTpaHandlers: function() {
                            function e(e) {
                                var i = t[e].applicationId;
                                return {
                                    APP: n[i],
                                    COMPONENT: t[e].componentPublicData
                                }
                            }
                            return {
                                getPublicData: function(t, n, i) {
                                    return e(i.originCompId)
                                },
                                getValues: function(t, n, i) {
                                    var r = i.originCompId,
                                        o = n.scope,
                                        a = n.keys,
                                        u = e(r);
                                    return B().pickBy(u[o], (function(e, t) {
                                        return a.includes(t)
                                    }))
                                }
                            }
                        }
                    }
                })),
                At = (0, c.ff)([(0, c.t6)(p.$e, d.u2)], (function(e) {
                    var t = e.widgets;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getStyleId: function(e, n, i) {
                                    var r = i.originCompId;
                                    return t[r].styleId
                                }
                            }
                        }
                    }
                })),
                xt = (0, c.ff)([(0, c.t6)(p.R9, f.u2)], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                getViewMode: function() {
                                    return {
                                        editMode: e.viewMode
                                    }
                                }
                            }
                        }
                    }
                })),
                Mt = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2)], (function(e, t) {
                    var n = e.widgetsClientSpecMapData,
                        i = t.pageId;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getComponentInfo: function(e, t, r) {
                                    var o, a, u, s = r.tpaCompData,
                                        c = (void 0 === s ? {} : s).widgetId,
                                        p = void 0 === c ? "" : c,
                                        l = "masterPage" === i;
                                    return {
                                        compId: e,
                                        showOnAllPages: l,
                                        pageId: l ? "" : i,
                                        tpaWidgetId: null === (o = n[p]) || void 0 === o ? void 0 : o.tpaWidgetId,
                                        appPageId: (null === (u = null === (a = n[p]) || void 0 === a ? void 0 : a.appPage) || void 0 === u ? void 0 : u.id) || ""
                                    }
                                }
                            }
                        }
                    }
                })),
                kt = (0, c.ff)([(0, c.t6)(p.$e, d.u2), (0, c.t6)(p.jC, d.u2), (0, c.t6)(p.R9, f.u2)], (function(e, t, n) {
                    var i = e.widgets,
                        r = t.pagesData,
                        o = n.widgetsClientSpecMapData;
                    return {
                        getTpaHandlers: function() {
                            return {
                                isAppSectionInstalled: function(e, t, n) {
                                    var a, u = t.sectionId,
                                        s = t.appDefinitionId,
                                        c = n.originCompId,
                                        p = null === (a = i[c]) || void 0 === a ? void 0 : a.applicationId;
                                    if (s) {
                                        var l = B().find(o, {
                                            appDefinitionId: s
                                        });
                                        p = (null == l ? void 0 : l.applicationId) || p
                                    }
                                    var d = B().filter(r, {
                                        tpaApplicationId: Number(p)
                                    });
                                    return B().some(d, {
                                        tpaPageId: u
                                    })
                                }
                            }
                        }
                    }
                })),
                Lt = (0, c.ff)([d.Cc], (function(e) {
                    var t = e.getSiteMap;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getSitePages: function(e, n) {
                                    var i = n.includePagesUrl;
                                    return (0, s.mG)(this, void 0, Promise, (function() {
                                        return (0, s.Jh)(this, (function(e) {
                                            switch (e.label) {
                                                case 0:
                                                    return [4, t()];
                                                case 1:
                                                    return [2, e.sent().map((function(e) {
                                                        return (0, s.pi)({
                                                            hide: e.hidden,
                                                            id: B().isString(e.pageId) && e.pageId.replace("#", ""),
                                                            isHomepage: e.isHomePage || !1,
                                                            title: e.title
                                                        }, i && {
                                                            url: e.url
                                                        })
                                                    }))]
                                            }
                                        }))
                                    }))
                                },
                                getSiteMap: t
                            }
                        }
                    }
                })),
                Ot = (0, c.ff)([be.Iz, Oe.jj, (0, c.t6)(p.jC, d.u2), (0, c.t6)(p.R9, f.u2), u.ZQ], (function(e, t, n, i, r) {
                    var o = n.pagesData,
                        a = i.externalBaseUrl;
                    return {
                        getTpaHandlers: function() {
                            return {
                                siteInfo: function() {
                                    var n = t.getCurrentRouteInfo().pageId,
                                        i = e.getParsedUrl().href,
                                        u = o[n],
                                        s = u.siteDescription,
                                        c = u.siteKeywords,
                                        p = u.title;
                                    return {
                                        siteDescription: s,
                                        siteKeywords: c,
                                        baseUrl: a,
                                        pageTitle: r.document.title,
                                        pageTitleOnly: p,
                                        referer: r.document.referrer,
                                        url: i
                                    }
                                }
                            }
                        }
                    }
                })),
                Ut = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.jC, d.u2)], (function(e, t) {
                    var n = e.externalBaseUrl,
                        i = t.pagesData;
                    return {
                        getTpaHandlers: function() {
                            return {
                                getSectionUrl: function(e, t, r) {
                                    var o = t.sectionIdentifier,
                                        a = r.appClientSpecMapData,
                                        u = B().find(i, {
                                            tpaPageId: o
                                        });
                                    return (null == u ? void 0 : u.id) ? {
                                        url: n + "/" + u.pageUriSEO
                                    } : {
                                        error: {
                                            message: 'Page with app "' + (null == a ? void 0 : a.appDefinitionName) + '" was not found.'
                                        }
                                    }
                                }
                            }
                        }
                    }
                })),
                _t = (0, c.ff)([d.u5], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                setFullScreenMobile: function(t, n) {
                                    var i = n.isFullScreen;
                                    return (0, s.mG)(this, void 0, void 0, (function() {
                                        return (0, s.Jh)(this, (function(n) {
                                            return e.setFullScreenMobile(t, i), [2]
                                        }))
                                    }))
                                }
                            }
                        }
                    }
                })),
                jt = function() {},
                Ht = [(0, c.ff)([], (function() {
                    return {
                        getTpaHandlers: function() {
                            return {
                                getSiteRevision: jt,
                                getDeviceType: jt,
                                toWixDate: jt,
                                getCompId: jt,
                                getOrigCompId: jt,
                                getWidth: jt,
                                isInModal: jt,
                                getLocale: jt,
                                getCacheKiller: jt,
                                getTarget: jt,
                                getInstanceId: jt,
                                getSignDate: jt,
                                getUid: jt,
                                getPermissions: jt,
                                getIpAndPort: jt,
                                getDemoMode: jt,
                                getInstanceValue: jt,
                                getSiteOwnerId: jt,
                                getImageUrl: jt,
                                getResizedImageUrl: jt,
                                getAudioUrl: jt,
                                getDocumentUrl: jt,
                                getSwfUrl: jt,
                                getPreviewSecureMusicUrl: jt,
                                getStyleParams: jt,
                                getStyleColorByKey: jt,
                                getColorByreference: jt,
                                getSiteTextPresets: jt,
                                getFontsSpriteUrl: jt,
                                getStyleFontByKey: jt,
                                getStyleFontByReference: jt,
                                getSiteColors: jt,
                                getViewModeInternal: jt,
                                postMessage: jt,
                                getEditorFonts: jt,
                                setUILIBParamValue: jt,
                                removeAppMetadata: jt,
                                setAppMetadata: jt,
                                setColorParam: jt,
                                setStyleParam: jt,
                                resizeComponent: jt,
                                setValue: jt,
                                isSupported: jt,
                                appEngaged: jt,
                                getInstalledInstance: jt,
                                isApplicationInstalled: jt,
                                isCustomApplicationPermissionsGranted: jt,
                                isGroupApplicationPermissionsGranted: jt,
                                setFullWidth: jt
                            }
                        }
                    }
                })), Pt, yt, Tt, wt, bt, St, Rt, Et, Dt, st, vt, xt, At, Mt, kt, Ot, ht, gt, Lt, lt, ct, pt, Je, Ut, at, Ze, nt, it, ot, $e, _t, (0, c.ff)([(0, c.jt)(Ge.It)], (function(e) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                reportVisitorActivity: e ? e.reportActivity : function() {}
                            }
                        }
                    }
                })), Ne, ze, Ve, _e, Le, Ue, De, ke, Ee, (0, c.ff)([l.QZ, l.xP], (function(e, t) {
                    return {
                        getTpaHandlers: function() {
                            return {
                                getCurrentPageAnchors: function() {
                                    return B()(e.getEntireStore()).pickBy((function(e) {
                                        return "Anchor" === e.componentType
                                    })).mapValues((function(e, n) {
                                        return {
                                            id: n,
                                            title: t.get(n).name
                                        }
                                    })).values().sortBy((function(e) {
                                        switch (e.id) {
                                            case "SCROLL_TO_TOP":
                                                return 0;
                                            case "SCROLL_TO_BOTTOM":
                                                return 1;
                                            default:
                                                return 2
                                        }
                                    })).value()
                                }
                            }
                        }
                    }
                })), H, j, U],
                Nt = {
                    STATE_CHANGED: "STATE_CHANGED",
                    INSTANCE_CHANGED: "INSTANCE_CHANGED",
                    PAGE_NAVIGATION: "PAGE_NAVIGATION",
                    MEMBER_DETAILS_UPDATED: "MEMBER_DETAILS_UPDATED",
                    CONSENT_POLICY_UPDATE: "CONSENT_POLICY_UPDATE",
                    SCROLL: "SCROLL",
                    QUICK_ACTION_TRIGGERED: "QUICK_ACTION_TRIGGERED",
                    COMMON_CONFIG_UPDATE: "COMMON_CONFIG_UPDATE"
                },
                Bt = (0, c.ff)([(0, c.t6)(p.Wf, d.u2), (0, c.t6)(p.$e, d.u2), xe.X], (function(e, t, n) {
                    var i = function(t, n, i) {
                        void 0 === i && (i = function() {
                            return !0
                        }), B().forEach(e.get().registry[t], (function(e, r) {
                            if (e) {
                                var o, a = e.listener,
                                    u = (0, s._T)(e, ["listener"]),
                                    c = (o = i, B().isFunction(o) ? o : function(e) {
                                        var t = (0, s.CR)(Object.keys(o), 1)[0];
                                        return e[t] === o[t]
                                    }),
                                    p = (0, s.pi)({
                                        compId: r
                                    }, u);
                                c(p) && a(t, n(p))
                            }
                        }))
                    };
                    return function(e) {
                        e.update((function(e) {
                            return B().merge({}, e, {
                                registry: {}
                            })
                        }))
                    }(e), n.addLoadNewSessionCallback((function(e) {
                        var t = e.results.instances;
                        "expiry" === e.reason && i("INSTANCE_CHANGED", (function(e) {
                            var n = e.appDefinitionId;
                            return {
                                instance: t[n]
                            }
                        }))
                    })), {
                        register: function(n, i, r, o) {
                            (function(e) {
                                return e in Nt
                            })(n) && e.update((function(e) {
                                var a, u;
                                return B().merge({}, e, {
                                    registry: (a = {}, a[n] = (u = {}, u[i] = (0, s.pi)((0, s.pi)({}, o), {
                                        pageId: t.pageId,
                                        listener: r
                                    }), u), a)
                                })
                            }))
                        },
                        unregister: function(t, n) {
                            e.update((function(e) {
                                return B().set(e, ["registry", t, n], null)
                            }))
                        },
                        dispatch: i
                    }
                })),
                Ft = n(44263),
                Gt = (0, c.ff)([d.TJ, xe.X, u.ZQ], (function(e, t, n) {
                    var i = (0, Ft.w)(),
                        r = i.resolver,
                        o = i.promise;
                    return (0, s.pi)((0, s.pi)({}, e), {
                        pageDidMount: function() {
                            r(), t.addLoadNewSessionCallback(e.refreshAllPopups)
                        },
                        pageDidUnmount: function() {
                            e.closeNonPersistentPopups()
                        },
                        openPopup: function() {
                            for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
                            return (0, s.mG)(this, void 0, void 0, (function() {
                                return (0, s.Jh)(this, (function(i) {
                                    switch (i.label) {
                                        case 0:
                                            return (0, Qe.yF)(n) ? [2] : [4, o];
                                        case 1:
                                            return i.sent(), [2, e.openPopup.apply(e, (0, s.ev)([], (0, s.CR)(t)))]
                                    }
                                }))
                            }))
                        }
                    })
                })),
                Vt = n(98118),
                zt = (0, c.ff)([l.xP, l.QZ, (0, c.t6)(p.Wf, d.u2), (0, c.t6)(p.R9, f.u2), (0, c.t6)(p.jC, d.u2), (0, c.t6)(p.$e, d.u2), xe.X, u.ZQ, tt.x, Vt.ku, f.RN, f.ex, dt.H], (function(e, t, n, i, r, o, a, u, c, p, l, d, f) {
                    var g = {},
                        v = function(e) {
                            n.update((function(t) {
                                var n;
                                return (0, s.pi)((0, s.pi)({}, t), {
                                    tpaPopup: {
                                        persistentPopups: e,
                                        popups: (null === (n = null == t ? void 0 : t.tpaPopup) || void 0 === n ? void 0 : n.popups) || {}
                                    }
                                })
                            }))
                        },
                        I = function(e) {
                            n.update((function(t) {
                                var n;
                                return (0, s.pi)((0, s.pi)({}, t), {
                                    tpaPopup: {
                                        popups: e,
                                        persistentPopups: (null === (n = null == t ? void 0 : t.tpaPopup) || void 0 === n ? void 0 : n.persistentPopups) || {}
                                    }
                                })
                            }))
                        },
                        P = function() {
                            return B().get(n.get(), ["tpaPopup", "popups"], {})
                        },
                        y = function() {
                            return B().get(n.get(), ["tpaPopup", "persistentPopups"], {})
                        },
                        T = new RegExp(h("tpapopup-[0-9]+", ".+"));
                    return {
                        isPopup: function(e) {
                            return T.test(e)
                        },
                        refreshAllPopups: function() {
                            Object.values(y()).forEach((function(e) {
                                return (0, e.refreshPopUp)()
                            })), Object.values(g).forEach((function(e) {
                                return (0, e.refreshPopUp)()
                            }))
                        },
                        closeNonPersistentPopups: function() {
                            return Object.values(g).forEach((function(e) {
                                (0, e.closePopup)()
                            }))
                        },
                        openPopup: function(n, a, T) {
                            var w = this,
                                C = i.isMobileView,
                                b = i.isMobileDevice,
                                S = i.previewMode,
                                R = i.viewMode,
                                E = r.masterPageTpaComps,
                                D = o.widgets,
                                A = o.pageId;
                            return new Promise((function(i) {
                                return (0, s.mG)(w, void 0, void 0, (function() {
                                    var r, o, w, x, M, k, L, O, U, _, j, H, N;
                                    return (0, s.Jh)(this, (function(F) {
                                        switch (F.label) {
                                            case 0:
                                                return r = h("tpapopup-" + Date.now(), m(T)), o = T && t.getContextIdOfCompId(T) || p, d.registerTpasForContext({
                                                    contextId: o,
                                                    pageId: A
                                                }, [r]), w = function(e) {
                                                    if (a.persistent) {
                                                        var n = y();
                                                        delete n[r], v(n)
                                                    } else delete g[r], I(B().omit(P(), r));
                                                    t.removeComponentFromDynamicStructure(r), c.setSiteScrollingBlocked(!1, r), a.persistent || f.clearListenersByCompId(r), i(e)
                                                }, x = function(e) {
                                                    return /^0(?:px|%)?$/.test("" + e)
                                                }, M = b && S && !x(a.width) && !x(a.height) ? {
                                                    position: "fixed",
                                                    width: "319px",
                                                    height: "512px",
                                                    marginLeft: 0,
                                                    marginTop: 0,
                                                    boxShadow: "none",
                                                    left: "50%",
                                                    transform: "translateX(-50%)",
                                                    top: 0
                                                } : {}, k = (0, s.pi)((0, s.pi)({}, et(a, u, T)), M), O = function() {
                                                    var t;
                                                    (D[T] || E[T]) && e.update(((t = {})[r] = {
                                                        src: L()
                                                    }, t))
                                                }, U = {
                                                    options: a,
                                                    originCompId: T,
                                                    src: (L = function() {
                                                        var e = D[T] || E[T];
                                                        return l.buildSrc(r, A, e, n, {
                                                            extraQueryParams: {
                                                                isInPopup: "true",
                                                                origCompId: T,
                                                                viewMode: R
                                                            }
                                                        })
                                                    })(),
                                                    styleOverrides: k,
                                                    isBareTheme: "BARE" === a.theme,
                                                    closePopup: w
                                                }, e.update(((j = {})[r] = U, j)), c.setSiteScrollingBlocked(C && Ye(k, u), r), [4, t.addComponentToDynamicStructure(r, {
                                                    components: [],
                                                    componentType: "TPAPopup"
                                                })];
                                            case 1:
                                                return F.sent(), (_ = {
                                                    isPersistent: a.persistent,
                                                    closePopup: w,
                                                    refreshPopUp: O
                                                }).isPersistent ? v((0, s.pi)((0, s.pi)({}, y()), ((H = {})[r] = _, H))) : (g[r] = _, I((0, s.pi)((0, s.pi)({}, P()), ((N = {})[r] = _, N)))), [2]
                                        }
                                    }))
                                }))
                            }))
                        },
                        closePopup: function(e, t) {
                            var n = y()[e] || P()[e];
                            n && n.closePopup(t)
                        },
                        getOpenedPopups: function() {
                            return (0, s.pi)((0, s.pi)({}, y()), g)
                        }
                    }
                })),
                Wt = n(19095),
                Jt = (0, c.ff)([(0, c.t6)(p.Wf, d.u2), (0, c.jt)(u.mS), u.Zr, u.EE], (function(e, t, n, i) {
                    var r, o = n.siteAssets,
                        a = n.mode.debug;
                    if (!(null === (r = e.get()) || void 0 === r ? void 0 : r.publicApiTPAHandlerState)) {
                        var u, c = new Promise((function(e) {
                            u = e
                        }));
                        e.update((function() {
                            return (0, s.pi)((0, s.pi)({}, e.get()), {
                                publicApiTPAHandlerState: {
                                    alreadyInvoked: false,
                                    resolvePublicApiGetter: u,
                                    waitForAppsToRegister: c
                                }
                            })
                        }))
                    }
                    return {
                        pageWillUnmount: function() {
                            e.update((function() {
                                return (0, s.pi)((0, s.pi)({}, e.get()), {
                                    publicApiTPAHandlerState: null
                                })
                            }))
                        },
                        getTpaHandlers: function() {
                            var n = this;
                            return {
                                waitForWixCodeWorkerToBeReady: function() {
                                    return (0, s.mG)(n, void 0, void 0, (function() {
                                        var n, i, r, u, c;
                                        return (0, s.Jh)(this, (function(p) {
                                            switch (p.label) {
                                                case 0:
                                                    return a && console.warn("getPublicApi() has high performance overhead as we download and execute all apps on site. consider mitigating this by e.g migrating to Wix Blocks or OOI."), e.get().publicApiTPAHandlerState.alreadyInvoked ? [2, {}] : [4, Promise.all([(0, Wt.FR)(o.clientTopology.moduleRepoUrl), t.platformWorkerPromise, e.get().publicApiTPAHandlerState.waitForAppsToRegister])];
                                                case 1:
                                                    return n = s.CR.apply(void 0, [p.sent(), 3]), i = n[0], r = n[1], [4, (0, n[2])()];
                                                case 2:
                                                    if (!(u = p.sent()).length) throw c = "getPublicApi() rejected since there are no platform apps on page", a && console.warn(c), new Error(c);
                                                    return [4, Promise.all(u.map((function(e) {
                                                        return i.api.request(e, {
                                                            target: r
                                                        }).then((function(t) {
                                                            i.api.set(e, t)
                                                        }))
                                                    })))];
                                                case 3:
                                                    return p.sent(), e.update((function() {
                                                        return (0, s.pi)((0, s.pi)({}, e.get()), {
                                                            publicApiTPAHandlerState: (0, s.pi)((0, s.pi)({}, e.get().publicApiTPAHandlerState), {
                                                                alreadyInvoked: !0
                                                            })
                                                        })
                                                    })), [2, {}]
                                            }
                                        }))
                                    }))
                                }
                            }
                        },
                        getSdkHandlers: function() {
                            return {
                                registerPublicApiGetter: function(t) {
                                    e.get().publicApiTPAHandlerState ? e.get().publicApiTPAHandlerState.resolvePublicApiGetter(t) : i.captureError(new Error("resolvePublicApiGetter is not a function"), {
                                        tags: {
                                            resolvePublicApiGetter: !0
                                        }
                                    })
                                }
                            }
                        }
                    }
                })),
                $t = n(51831),
                Zt = function(e, t) {
                    if (!(0, Qe.yF)(e)) {
                        var n = document.getElementById("site-root");
                        n && (t ? (n.style.setProperty("overflow-y", "hidden"), n.style.setProperty("height", "0")) : (n.style.removeProperty("overflow-y"), n.style.removeProperty("height")))
                    }
                },
                Qt = "tpaModal",
                Xt = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.jC, d.u2), (0, c.t6)(p.$e, d.u2), (0, c.t6)(p.Wf, d.u2), l.xP, u.ZQ, tt.x, l.QZ, xe.X, Vt.ku, It.p, f.RN, f.ex], (function(e, t, n, i, r, o, a, u, c, p, l, d, f) {
                    var g = t.masterPageTpaComps,
                        v = function() {},
                        I = function(e) {
                            i.update((function(t) {
                                return (0, s.pi)((0, s.pi)({}, t), {
                                    tpaModal: (0, s.pi)((0, s.pi)({}, (null == t ? void 0 : t.tpaModal) || {}), {
                                        closeModalImpl: e
                                    })
                                })
                            }))
                        },
                        P = function(e) {
                            i.update((function(t) {
                                return (0, s.pi)((0, s.pi)({}, t), {
                                    tpaModal: (0, s.pi)((0, s.pi)({}, (null == t ? void 0 : t.tpaModal) || {}), {
                                        currentModalId: e
                                    })
                                })
                            }))
                        },
                        y = function() {
                            return B().get(i.get(), ["tpaModal", "closeModalImpl"], (function() {}))
                        },
                        T = function(e, t, n) {
                            var i = {
                                width: o.innerWidth,
                                height: o.innerHeight
                            };
                            if (e = Math.min(e, i.width), t = Math.min(t, i.height), !n) {
                                var r = i.width - 50,
                                    a = i.height - 50;
                                e >= r && t >= a && (e = r, t = a)
                            }
                            return {
                                width: e,
                                height: t
                            }
                        },
                        w = (0, Ft.w)(),
                        C = w.resolver,
                        b = w.promise;
                    return {
                        pageDidMount: function() {
                            C()
                        },
                        isModal: function(e) {
                            return e.startsWith(Qt)
                        },
                        openModal: function(t, i, c) {
                            var l, w = this,
                                C = i.width,
                                S = i.height,
                                R = i.title,
                                E = i.theme;
                            if ((0, Qe.yF)(o)) return new Promise((function() {}));
                            var D = e.tpaModalConfig,
                                A = e.isMobileDevice,
                                x = e.previewMode,
                                M = e.viewMode,
                                k = n.pageId,
                                L = n.widgets,
                                O = D.wixTPAs,
                                U = h(Qt, m(c || k)),
                                _ = c && u.getContextIdOfCompId(c) || p;
                            f.registerTpasForContext({
                                contextId: _,
                                pageId: k
                            }, [U]), y()(), (0, $t.U)();
                            var j = c ? r.get(c) : null,
                                H = O[j ? j.applicationId : null],
                                N = function() {
                                    var e, t = T(C, S, H);
                                    r.update(((e = {})[U] = {
                                        width: t.width,
                                        height: t.height
                                    }, e))
                                };
                            return o.addEventListener("resize", N), A && a.setSiteScrollingBlocked(!0, U), new Promise((function(e) {
                                return (0, s.mG)(w, void 0, void 0, (function() {
                                    var n, i, p, f;
                                    return (0, s.Jh)(this, (function(s) {
                                        switch (s.label) {
                                            case 0:
                                                return [4, b];
                                            case 1:
                                                return s.sent(), P(U), I((function(t) {
                                                    var n;
                                                    I((function() {})), o.removeEventListener("resize", N), (0, $t.i)(), v(), A && (a.setSiteScrollingBlocked(!1, U), Zt(o, !1)), u.removeComponentFromDynamicStructure(U), r.update(((n = {})[U] = {
                                                        src: null,
                                                        closeModal: function() {}
                                                    }, n)), null == l || l.focus(), l = null, P(null), e(t)
                                                })), v = function(e) {
                                                    if ((0, Qe.yF)(o)) return function() {};
                                                    var t = function(t) {
                                                        "Escape" === t.key && e()
                                                    };
                                                    return o.addEventListener("keydown", t),
                                                        function() {
                                                            return o.removeEventListener("keydown", t)
                                                        }
                                                }(y()), A && "LIGHT_BOX" === E && Zt(o, !0), n = T(C, S, H), i = c && (L[c] || g[c]) || {}, p = d.buildSrc(U, k, i, t, {
                                                    extraQueryParams: {
                                                        isInModal: "true",
                                                        origCompId: c,
                                                        viewMode: M
                                                    }
                                                }), r.update(((f = {})[U] = {
                                                    src: p,
                                                    width: n.width,
                                                    height: n.height,
                                                    closeModal: y(),
                                                    isMobileDevice: A,
                                                    isPreviewMode: x,
                                                    title: R,
                                                    theme: E
                                                }, f)), l = document.activeElement, [4, u.addComponentToDynamicStructure(U, {
                                                    components: [],
                                                    componentType: "TPAModal"
                                                })];
                                            case 2:
                                                return s.sent(), [2]
                                        }
                                    }))
                                }))
                            }))
                        },
                        closeModal: function(e) {
                            y()(e)
                        },
                        getCurrentModalId: function() {
                            return B().get(i.get(), ["tpaModal", "currentModalId"], null)
                        }
                    }
                })),
                Kt = n(44041),
                qt = n(96114),
                Yt = n.n(qt),
                en = (0, c.ff)([Kt.r, d.PV, Vt.C9], (function(e, t, n) {
                    var i = e.registerToThrottledScroll;
                    return {
                        pageWillMount: function() {
                            i((function(e) {
                                Yt().measure((function() {
                                    t.dispatch("SCROLL", (function(t) {
                                        var n = t.compId;
                                        return function(e, t) {
                                            var n = window.document.getElementById(t);
                                            if (!n) return {};
                                            var i = n.getBoundingClientRect();
                                            return {
                                                x: e.x + i.left,
                                                y: e.y + i.top,
                                                width: i.width,
                                                height: i.height,
                                                scrollTop: e.y,
                                                scrollLeft: e.x,
                                                documentHeight: document.documentElement.clientHeight,
                                                documentWidth: document.documentElement.clientWidth
                                            }
                                        }(e, n)
                                    }), {
                                        pageId: n
                                    })
                                }))
                            }))
                        }
                    }
                })),
                tn = n(27227),
                nn = n(99708),
                rn = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2), l.xP, u.ZQ, tn.l], (function(e, t, n, i, r) {
                    var o = e.widgetsClientSpecMapData,
                        a = e.isMobileView,
                        u = t.widgets,
                        s = function(e) {
                            var t, o;
                            ! function(e) {
                                (0, Qe.yF)(e) || ["fullScreenMode"].forEach((function(e) {
                                    return document.body.classList.add(e)
                                }))
                            }(i), Zt(i, !0), r.set(((t = {})[e + "-pinned-layer"] = {
                                "z-index": "var(--above-all-z-index) !important"
                            }, t)), n.update(((o = {})[e] = {
                                isIOS: (0, nn.gn)(i),
                                isMobileFullScreenMode: !0
                            }, o))
                        },
                        c = function(e) {
                            var t, o;
                            ! function(e) {
                                (0, Qe.yF)(e) || document.body.classList.remove("fullScreenMode")
                            }(i), Zt(i, !1);
                            var a, u, s = e + "-pinned-layer",
                                c = r.getCompStyle(s);
                            r.set(((t = {})[s] = (a = c, u = "z-index", Object.keys(a).reduce((function(e, t) {
                                return t !== u && (e[t] = a[t]), e
                            }), {})), t)), n.update(((o = {})[e] = {
                                isMobileFullScreenMode: !1
                            }, o))
                        };
                    return {
                        setFullScreenMobile: function(e, t) {
                            if (!a) throw new Error("show full screen is only available in Mobile view");
                            (function(e) {
                                var t = u[e] || {},
                                    n = (o[t.widgetId] || {}).appDefinitionId;
                                return Object.values(T).includes(n)
                            })(e) && (t ? s(e) : c(e))
                        }
                    }
                })),
                on = (0, c.ff)([It.p, d.PV], (function(e, t) {
                    return {
                        pageWillMount: function() {
                            e.registerToCommonConfigChange((function(e) {
                                return t.dispatch("COMMON_CONFIG_UPDATE", (function() {
                                    return e
                                }))
                            }))
                        }
                    }
                })),
                an = (0, c.ff)([d.PV, Oe.jj], (function(e, t) {
                    return {
                        appDidLoadPage: function(n) {
                            var i, r, o = n.pageId,
                                a = null === (i = t.getPreviousRouterInfo()) || void 0 === i ? void 0 : i.pageId;
                            if (a && a !== o) {
                                var u = {
                                        fromPage: a,
                                        toPage: o
                                    },
                                    s = null === (r = t.getCurrentRouteInfo().dynamicRouteData) || void 0 === r ? void 0 : r.publicData;
                                s && (u.routerPublicData = s), e.dispatch("PAGE_NAVIGATION", (function() {
                                    return u
                                }))
                            }
                        }
                    }
                })),
                un = function(e, t) {
                    return sn(t) && t.templateId || e
                },
                sn = function(e) {
                    var t = e.isResponsive,
                        n = e.widgetId;
                    return t && "14517f3f-ffc5-eced-f592-980aaa0bbb5c" === n
                },
                cn = (0, c.ff)([l.xP, (0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2), xe.X, Vt.ku, f.ex, d.nV], (function(e, t, n, i, r, o, a) {
                    var u = t.widgetsClientSpecMapData,
                        c = n.widgets,
                        p = n.tpaInnerRouteConfig,
                        l = n.pageId,
                        d = Object.entries(c).map((function(e) {
                            var t = (0, s.CR)(e, 2),
                                n = t[0],
                                i = t[1],
                                r = un(n, i);
                            return n !== r && o.registerTpaTemplateId(r, n), r
                        }));
                    o.registerTpasForContext({
                        contextId: r,
                        pageId: l
                    }, d);
                    var f = function(t) {
                            var i, r = a.buildSrc({
                                compId: t,
                                tpaCompData: c[t],
                                pageId: n.pageId,
                                tpaInnerRouteConfig: p
                            });
                            e.update(((i = {})[t] = {
                                src: r
                            }, i))
                        },
                        g = function() {
                            var e = B().pickBy(c, (function(e) {
                                var t = e.widgetId;
                                return !e.isOOI && u[t]
                            }));
                            Object.keys(e).forEach(f)
                        };
                    return {
                        pageWillMount: function() {
                            return (0, s.mG)(this, void 0, void 0, (function() {
                                return (0, s.Jh)(this, (function(e) {
                                    return i.addLoadNewSessionCallback((function(e) {
                                        "memberLogin" === e.reason && g()
                                    })), [2]
                                }))
                            }))
                        },
                        rebuildTpasSrc: g,
                        rebuildTpaSrc: f
                    }
                })),
                pn = n(65070),
                ln = (0, c.ff)([d.PV, be.Iz, (0, c.t6)(p.$e, d.u2), Vt.C9], (function(e, t, n, i) {
                    var r = n.tpaInnerRouteConfig;
                    return {
                        onUrlChange: function() {
                            var n = t.getRelativeUrl(),
                                o = (0, pn._)(n.replace(/^\./, ""), r.tpaPageUri),
                                a = o ? o.join("/") : "";
                            e.dispatch("STATE_CHANGED", (function() {
                                return {
                                    newState: a
                                }
                            }), {
                                pageId: i
                            })
                        }
                    }
                })),
                dn = (0, c.ff)([l.xP, l.QZ, d.PV, Oe.jj, u.ZQ, Vt.C9, d.jn, d.e4], (function(e, t, n, i, r, o, a, u) {
                    var s = a.getOpenedPopups,
                        c = u.rebuildTpasSrc,
                        p = {
                            previousCurrency: null
                        };
                    return {
                        onUrlChange: function(e) {
                            if (i.getCurrentRouteInfo()) {
                                var t = e.searchParams.get("currency");
                                t !== p.previousCurrency && (c(), Object.values(s()).forEach((function(e) {
                                    return e.refreshPopUp()
                                })), p.previousCurrency = t)
                            }
                        }
                    }
                })),
                fn = (0, c.ff)([(0, c.t6)(p.R9, f.u2), f.RN], (function(e, t) {
                    var n = e.widgetsClientSpecMapData,
                        i = e.deviceType,
                        r = e.isMobileView;
                    return {
                        buildSrc: function(e) {
                            var r = e.compId,
                                o = e.tpaCompData,
                                a = e.pageId,
                                u = e.tpaInnerRouteConfig,
                                s = un(r, o),
                                c = o.widgetId,
                                p = n[c],
                                l = p.widgetUrl,
                                d = p.mobileUrl,
                                f = "mobile" === i && d || l,
                                g = sn(o) ? "masterPage" : a,
                                h = {};
                            return o.isSection && (h.tpaInnerRouteConfig = u), t.buildSrc(s, g, o, f, h)
                        },
                        getDefaultProps: function(e, t) {
                            var i, o = n[e],
                                a = o.appDefinitionName,
                                u = o.appDefinitionId,
                                s = o.appPage,
                                c = o.allowScrolling;
                            return {
                                title: null !== (i = s.name) && void 0 !== i ? i : a,
                                appDefinitionName: a,
                                appDefinitionId: u,
                                isMobileView: r,
                                allowScrolling: c,
                                reportIframeStartedLoading: t || B().noop
                            }
                        }
                    }
                })),
                gn = n(65482),
                hn = ["TPASection", "TPAMultiSection", "TPAGluedWidget", "TPAWidget"],
                vn = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2), d.nV, f.B_, f.lP, (0, c.jt)(d.Wt), (0, c.jt)(f.yA)], (function(e, t, n, i, r, o, a) {
                    var u = e.widgetsClientSpecMapData,
                        c = i.registerTpaSection,
                        p = i.unregisterTpaSection;
                    return {
                        componentTypes: hn,
                        componentWillMount: function(e) {
                            var i = t.widgets,
                                l = t.tpaInnerRouteConfig,
                                d = t.pageId,
                                f = i[e.id],
                                g = f.widgetId,
                                h = f.isSection,
                                v = f.appDefinitionId,
                                m = f.templateId;
                            if (u[g]) {
                                a && a.registerToDataCapsule(m || e.id, v);
                                var I = function() {
                                    return n.buildSrc({
                                        compId: e.id,
                                        tpaCompData: f,
                                        pageId: d,
                                        tpaInnerRouteConfig: l
                                    })
                                };
                                if (h) {
                                    var P = {
                                        appDefinitionId: v,
                                        rebuildSrc: function() {
                                            e.updateProps({
                                                src: I()
                                            })
                                        }
                                    };
                                    c(e.id, P)
                                }
                                var y = B().once((function() {
                                        o && o.reportIframeStartedLoading(e.id)
                                    })),
                                    T = n.getDefaultProps(g, y),
                                    w = un(e.id, f),
                                    C = r ? r.getCachedProps(w) : {};
                                return e.updateProps((0, s.pi)((0, s.pi)((0, s.pi)({}, T), {
                                        src: I()
                                    }), C)),
                                    function() {
                                        r && ("masterPage" === d ? r.cacheProps(e.id) : sn(f) && r.cacheProps(w, e.getProps())), p(e.id), a && a.unregister(m || e.id)
                                    }
                            }
                        }
                    }
                })),
                mn = (0, c.ff)([(0, c.t6)(p.R9, f.u2), (0, c.t6)(p.$e, d.u2), Oe.jj, Be.s, Fe.$, Ge.R1], (function(e, t, n, i, r, o) {
                    var a = e.widgetsClientSpecMapData,
                        u = t.widgets;
                    return {
                        reportIframeStartedLoading: function(e) {
                            var t = u[e],
                                s = t.widgetId,
                                c = t.templateId,
                                p = n.getCurrentRouteInfo(),
                                l = Date.now() - i.initialRequestTimestamp;
                            r.logger.log({
                                appId: a[s].appDefinitionId,
                                widget_id: s,
                                instance_id: null != c ? c : e,
                                src: 42,
                                evid: 642,
                                tts: l,
                                pid: p ? p.pageId : null,
                                pn: o.getPageNumber()
                            }, {
                                endpoint: "ugc-viewer"
                            })
                        }
                    }
                })),
                In = "$TPA$",
                Pn = ((ae = {})[w] = ["type", "pageId"], ae[C] = ["type", "target", "url"], ae[b] = ["type", "anchorName", "anchorDataId", "pageId"], ae[S] = ["type", "recipient", "subject"], ae[R] = ["type", "phoneNumber"], ae[E] = ["type", "phoneNumber"], ae[D] = ["type", "docId", "name"], ae[A] = ["type", "routerId", "innerRoute", "anchorDataId"], ae[x] = ["type", "address"], ae);

            function yn(e, t, n, i) {
                var r = e.label || "",
                    o = !e.isVisible || !1,
                    a = e.link ? function(e) {
                        var t = B().pick(e.link, Pn[e.link.type]);
                        if (B().isObject(t.pageId) && (t.pageId = "#" + B().get(t, "pageId.id")), t.anchorDataId) {
                            var n = B().get(t, "anchorDataId.id", t.anchorDataId);
                            t.anchorDataId = "SCROLL_TO_TOP" === n || "SCROLL_TO_BOTTOM" === n ? n : "#" + n
                        }
                        return t
                    }(e) : {},
                    u = B().merge(a, {
                        title: r,
                        hidden: o
                    });
                if (!u.type) return {
                    type: M,
                    hidden: o,
                    title: r,
                    subPages: u.subPages
                };
                switch (u.type) {
                    default:
                        case w:
                        case b:
                        B().merge(u, Tn(e, t, n));
                    break;
                    case D:
                            var s = i.getLinkUrlFromDataItem(u),
                            c = i.getLinkProps(s);u.url = c.href
                }
                return u
            }

            function Tn(e, t, n) {
                var i, r, o, a, u = null === (r = null === (i = e.link) || void 0 === i ? void 0 : i.pageId) || void 0 === r ? void 0 : r.pageUriSEO,
                    s = {
                        isHomePage: (null === (a = null === (o = e.link) || void 0 === o ? void 0 : o.pageId) || void 0 === a ? void 0 : a.id) === t
                    };
                return u && B().assign(s, {
                    url: n + "/" + u
                }), s
            }

            function wn(e, t, n, i, r) {
                var o = t.externalBaseUrl,
                    a = t.appsClientSpecMapByApplicationId,
                    u = t.metaSiteId,
                    s = t.userFileDomainUrl,
                    c = t.routersConfig,
                    p = t.isMobileView,
                    l = n.getLinkUtilsRoutingInfo(),
                    d = Ce({
                        routingInfo: l,
                        metaSiteId: u,
                        userFileDomainUrl: s,
                        routersConfig: c,
                        popupPages: null == i ? void 0 : i.getPopupPages(),
                        multilingualInfo: null == r ? void 0 : r.getMultilingualInfo(),
                        isMobileView: p
                    });
                return function(e) {
                    var t = e.menuItems,
                        n = e.mainPageId,
                        i = e.baseUrl,
                        r = e.linkUtils;
                    return B().map(t, (function(e) {
                        var t = yn(e, n, i, r);
                        if (t.type === w || t.type === M) {
                            var o = B().map(e.items, (function(e) {
                                return yn(e, n, i, r)
                            }));
                            B().size(o) > 0 && B().assign(t, {
                                subPages: o
                            })
                        }
                        return t
                    }))
                }({
                    menuItems: B().filter(e, (function(e) {
                        var t = e.link;
                        return ! function(e, t) {
                            var n, i;
                            if (!t) return !1;
                            if (t.type === w) {
                                var r = null === (n = t.pageId) || void 0 === n ? void 0 : n.tpaPageId,
                                    o = e[null === (i = t.pageId) || void 0 === i ? void 0 : i.tpaApplicationId];
                                if (o && r) {
                                    B().includes(r, In) && (r = r.substr(0, r.indexOf(In)));
                                    var a = B().find(o.widgets, (function(e) {
                                        var t;
                                        return (null === (t = e.appPage) || void 0 === t ? void 0 : t.id) === r
                                    }));
                                    return null == a ? void 0 : a.appPage.hideFromMenu
                                }
                            }
                            return !1
                        }(a, t)
                    })),
                    mainPageId: l.mainPageId,
                    baseUrl: o,
                    linkUtils: d
                })
            }
            var Cn = (0, c.ff)([(0, c.t6)(p.R9, f.u2), be.kc, Vt.cK, (0, c.jt)(Se.wk), (0, c.jt)(Re.HC)], (function(e, t, n, i, r) {
                    return {
                        getSiteMap: function() {
                            return (0, s.mG)(void 0, void 0, void 0, (function() {
                                return (0, s.Jh)(this, (function(o) {
                                    switch (o.label) {
                                        case 0:
                                            return [4, n.fetchResource("masterPage", "siteMap")];
                                        case 1:
                                            return [2, wn(o.sent(), e, t, i, r)]
                                    }
                                }))
                            }))
                        }
                    }
                })),
                bn = function(e) {
                    e(d.nV).to(fn), e(d.Wt).to(mn), e(o.j.PageWillMountHandler, d.e4).to(cn), e(gn.Vx).to(vn), e(f.XA).to(k), e(a.g, u.CT, o.j.PageWillUnmountHandler).to(Jt), e(d.PV).to(Bt), e(o.j.AppDidLoadPageHandler).to(an), e(d.TJ).to(zt), e(o.j.PageDidMountHandler, o.j.PageDidUnmountHandler, d.jn).to(Gt), e(d.Cc).to(Cn), Ht.forEach((function(t) {
                        e(a.g).to(t)
                    })), e(o.j.PageDidMountHandler, o.j.PageDidUnmountHandler).to(O), e(o.j.PageDidMountHandler, d.R3).to(Xt), e(o.j.PageWillMountHandler).to(en), e(d.u5).to(rn), e(o.j.PageWillMountHandler).to(on), e(be.bV).to(ln), e(be.bV).to(dn)
                }
        },
        65070: function(e, t, n) {
            "use strict";
            n.d(t, {
                _: function() {
                    return r
                }
            });
            var i = n(31191),
                r = function(e, t) {
                    var n = e.split("/"),
                        r = n.indexOf(t || "");
                    return r < 0 || n[r] !== t ? null : (0, i.CR)(n.splice(r)).slice(1)
                }
        }
    }
]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/tpa-features.4edc79b2.chunk.min.js.map